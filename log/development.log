  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to DeviseCreateUsers (20230430161029)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230430161029"]]
  [1m[36mTRANSACTION (10.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.8ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2023-04-30 16:11:18.355484"], ["updated_at", "2023-04-30 16:11:18.355484"]]
  [1m[36mTRANSACTION (4.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for 127.0.0.1 at 2023-04-30 23:17:16 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 438)
  Rendered layout layouts/application.html.erb (Duration: 1010.6ms | Allocations: 347764)
Completed 500 Internal Server Error in 1087ms (ActiveRecord: 0.0ms | Allocations: 355673)


  
ActionView::Template::Error (Asset was not declared to be precompiled in production.
Add `Rails.application.config.assets.precompile += %w( controllers/hello_controller.js )` to `config/initializers/assets.rb` and restart your server):
     7:     <%= csp_meta_tag %>
     8: 
     9:     <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    10:     <%= javascript_importmap_tags %>
    11:   </head>
    12: 
    13:   <body>
  
app/views/layouts/application.html.erb:10
Started GET "/" for 127.0.0.1 at 2023-04-30 23:19:35 +0700
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 105)
  Rendered layout layouts/application.html.erb (Duration: 22.3ms | Allocations: 5086)
Completed 200 OK in 31ms (Views: 27.4ms | ActiveRecord: 0.0ms | Allocations: 8749)


Started GET "/" for 127.0.0.1 at 2023-05-01 10:45:13 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 11.6ms | Allocations: 294)
  Rendered layout layouts/application.html.erb (Duration: 668.5ms | Allocations: 295432)
Completed 200 OK in 734ms (Views: 685.1ms | ActiveRecord: 0.0ms | Allocations: 298824)


Started GET "/users/sign_in" for 127.0.0.1 at 2023-05-01 10:45:20 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 4.3ms | Allocations: 721)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 276.0ms | Allocations: 21722)
  Rendered layout layouts/application.html.erb (Duration: 286.1ms | Allocations: 24448)
Completed 200 OK in 320ms (Views: 289.5ms | ActiveRecord: 2.4ms | Allocations: 31976)


Started POST "/users/sign_in" for 127.0.0.1 at 2023-05-01 10:45:22 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"andy@web-crunch.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "andy@web-crunch.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 18ms (ActiveRecord: 0.4ms | Allocations: 3445)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"andy@web-crunch.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 132)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.9ms | Allocations: 3407)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 5959)
Completed 200 OK in 248ms (Views: 18.6ms | ActiveRecord: 0.0ms | Allocations: 7700)


Started POST "/users/sign_in" for 127.0.0.1 at 2023-05-01 10:45:25 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"andy@web-crunch.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "andy@web-crunch.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.2ms | Allocations: 1458)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"andy@web-crunch.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 132)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 11.9ms | Allocations: 3447)
  Rendered layout layouts/application.html.erb (Duration: 20.4ms | Allocations: 5994)
Completed 200 OK in 245ms (Views: 22.0ms | ActiveRecord: 0.0ms | Allocations: 6489)


Started POST "/users/sign_in" for 127.0.0.1 at 2023-05-01 10:45:30 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"andy@web-crunch.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "andy@web-crunch.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 7ms (ActiveRecord: 0.2ms | Allocations: 1486)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"andy@web-crunch.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 132)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 12.8ms | Allocations: 3446)
  Rendered layout layouts/application.html.erb (Duration: 19.3ms | Allocations: 5995)
Completed 200 OK in 233ms (Views: 21.3ms | ActiveRecord: 0.0ms | Allocations: 6491)


Started GET "/users/sign_up" for 127.0.0.1 at 2023-05-01 10:45:31 +0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 15.9ms | Allocations: 3589)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 3678)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms | Allocations: 4957)


  
ActionView::Template::Error (undefined method `name' for #<User id: nil, email: "", created_at: nil, updated_at: nil>):
    11: 
    12:     <div class="field">
    13:       <div class="control">
    14:       <%= f.input :name, required: true, autofocus: true, input_html: { class:"input" }, wrapper: false, label_html: { class:"label" } %>
    15:       </div>
    16:     </div>
    17: 
  
app/views/devise/registrations/new.html.erb:14
app/views/devise/registrations/new.html.erb:9
Started GET "/users/sign_up" for 127.0.0.1 at 2023-05-01 10:46:03 +0700
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2133)
  Rendered layout layouts/application.html.erb (Duration: 4.7ms | Allocations: 2220)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2765)


  
ActionView::Template::Error (undefined method `name' for #<User id: nil, email: "", created_at: nil, updated_at: nil>):
    11: 
    12:     <div class="field">
    13:       <div class="control">
    14:       <%= f.input :name, required: true, autofocus: true, input_html: { class:"input" }, wrapper: false, label_html: { class:"label" } %>
    15:       </div>
    16:     </div>
    17: 
  
app/views/devise/registrations/new.html.erb:14
app/views/devise/registrations/new.html.erb:9
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddNameToUsers (20230501034650)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.9ms)[0m  [1m[35mALTER TABLE "users" ADD "name" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230501034650"]]
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_up" for 127.0.0.1 at 2023-05-01 10:47:23 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.2ms | Allocations: 615)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 40.3ms | Allocations: 13460)
  Rendered layout layouts/application.html.erb (Duration: 332.3ms | Allocations: 308254)
Completed 200 OK in 374ms (Views: 344.6ms | ActiveRecord: 0.7ms | Allocations: 318619)


Started POST "/users" for 127.0.0.1 at 2023-05-01 10:47:31 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"andy leverenz", "email"=>"andy@web-crunch.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andy@web-crunch.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "andy@web-crunch.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-01 03:47:31.526407"], ["updated_at", "2023-05-01 03:47:31.526407"], ["name", "andy leverenz"]]
  [1m[36mTRANSACTION (10.7ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 303 See Other in 266ms (ActiveRecord: 12.6ms | Allocations: 12679)


Started GET "/" for 127.0.0.1 at 2023-05-01 10:47:31 +0700
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 109)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | Allocations: 3927)
Completed 200 OK in 22ms (Views: 19.3ms | ActiveRecord: 0.4ms | Allocations: 4846)


Started GET "/users/edit" for 127.0.0.1 at 2023-05-01 10:47:36 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 14.8ms | Allocations: 4987)
  Rendered layout layouts/application.html.erb (Duration: 26.4ms | Allocations: 7632)
Completed 200 OK in 38ms (Views: 29.0ms | ActiveRecord: 0.5ms | Allocations: 9442)


Started GET "/users/edit" for 127.0.0.1 at 2023-05-01 10:47:38 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 16.2ms | Allocations: 4396)
  Rendered layout layouts/application.html.erb (Duration: 25.1ms | Allocations: 7031)
Completed 200 OK in 36ms (Views: 28.8ms | ActiveRecord: 0.5ms | Allocations: 8694)


Started GET "/users/sign_out" for 127.0.0.1 at 2023-05-01 10:47:39 +0700
  
ActionController::RoutingError (No route matches [GET] "/users/sign_out"):
  
Started GET "/" for 127.0.0.1 at 2023-05-01 10:47:43 +0700
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 3480)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.2ms | Allocations: 3912)


Started GET "/" for 127.0.0.1 at 2023-05-01 10:48:48 +0700
Processing by StoreController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 7)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 2242.5ms | Allocations: 886097)
Completed 200 OK in 2248ms (Views: 2243.5ms | ActiveRecord: 0.4ms | Allocations: 886520)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateInstruments (20230501035327)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "instruments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "brand" varchar, "model" varchar, "description" text, "condition" varchar, "finish" varchar, "title" varchar, "price" decimal, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230501035327"]]
  [1m[36mTRANSACTION (10.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 10:55:30 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 53.3ms | Allocations: 15577)
  Rendered instruments/new.html.erb within layouts/application (Duration: 57.4ms | Allocations: 16121)
  Rendered layout layouts/application.html.erb (Duration: 1662.2ms | Allocations: 826160)
Completed 500 Internal Server Error in 1706ms (ActiveRecord: 1.1ms | Allocations: 836865)


  
ActionView::Template::Error (File to import not found or unreadable: functions.
Load paths:
  /home/quan/flanger/app/assets/config
  /home/quan/flanger/app/assets/images
  /home/quan/flanger/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bulma-rails-0.6.2/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/stimulus-rails-1.2.1/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbo-rails-1.4.0/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/importmap-rails-1.1.6/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actioncable-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activestorage-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionview-7.0.4.3/lib/assets/compiled
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /home/quan/flanger/app/javascript
  /home/quan/flanger/vendor/javascript):
     6: 
     7:     <meta name="viewport" content="width=device-width, initial-scale=1">
     8:     <%= stylesheet_link_tag 'https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' %>
     9:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application' %>
    11:   </head>
    12: 
  
app/assets/stylesheets/application.scss:22
app/views/layouts/application.html.erb:9
Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 10:56:40 +0700
Processing by InstrumentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 14.6ms | Allocations: 6234)
  Rendered instruments/new.html.erb within layouts/application (Duration: 15.5ms | Allocations: 6323)
  Rendered layout layouts/application.html.erb (Duration: 1071.1ms | Allocations: 541195)
Completed 500 Internal Server Error in 1074ms (ActiveRecord: 0.0ms | Allocations: 541810)


  
ActionView::Template::Error (File to import not found or unreadable: functions.
Load paths:
  /home/quan/flanger/app/assets/config
  /home/quan/flanger/app/assets/images
  /home/quan/flanger/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bulma-rails-0.6.2/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/stimulus-rails-1.2.1/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbo-rails-1.4.0/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/importmap-rails-1.1.6/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actioncable-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activestorage-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionview-7.0.4.3/lib/assets/compiled
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /home/quan/flanger/app/javascript
  /home/quan/flanger/vendor/javascript):
     6: 
     7:     <meta name="viewport" content="width=device-width, initial-scale=1">
     8:     <%= stylesheet_link_tag 'https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' %>
     9:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application' %>
    11:   </head>
    12: 
  
app/assets/stylesheets/application.scss:22
app/views/layouts/application.html.erb:9
Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 10:57:56 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 45.2ms | Allocations: 15485)
  Rendered instruments/new.html.erb within layouts/application (Duration: 48.5ms | Allocations: 16029)
  Rendered layout layouts/application.html.erb (Duration: 1458.2ms | Allocations: 820795)
Completed 500 Internal Server Error in 1500ms (ActiveRecord: 1.0ms | Allocations: 831477)


  
ActionView::Template::Error (File to import not found or unreadable: functions.
Load paths:
  /home/quan/flanger/app/assets/config
  /home/quan/flanger/app/assets/images
  /home/quan/flanger/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bulma-rails-0.6.2/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/stimulus-rails-1.2.1/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbo-rails-1.4.0/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/importmap-rails-1.1.6/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actioncable-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activestorage-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionview-7.0.4.3/lib/assets/compiled
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /home/quan/flanger/app/javascript
  /home/quan/flanger/vendor/javascript):
     6: 
     7:     <meta name="viewport" content="width=device-width, initial-scale=1">
     8:     <%= stylesheet_link_tag 'https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' %>
     9:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application' %>
    11:   </head>
    12: 
  
app/assets/stylesheets/application.scss:22
app/views/layouts/application.html.erb:9
Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 10:58:32 +0700
Processing by InstrumentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 16.0ms | Allocations: 6234)
  Rendered instruments/new.html.erb within layouts/application (Duration: 16.6ms | Allocations: 6323)
  Rendered layout layouts/application.html.erb (Duration: 1021.1ms | Allocations: 537625)
Completed 500 Internal Server Error in 1024ms (ActiveRecord: 0.0ms | Allocations: 538240)


  
ActionView::Template::Error (File to import not found or unreadable: functions.
Load paths:
  /home/quan/flanger/app/assets/config
  /home/quan/flanger/app/assets/images
  /home/quan/flanger/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bulma-rails-0.6.2/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/stimulus-rails-1.2.1/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbo-rails-1.4.0/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/importmap-rails-1.1.6/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actioncable-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activestorage-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionview-7.0.4.3/lib/assets/compiled
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /home/quan/flanger/app/javascript
  /home/quan/flanger/vendor/javascript):
     6: 
     7:     <meta name="viewport" content="width=device-width, initial-scale=1">
     8:     <%= stylesheet_link_tag 'https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' %>
     9:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application' %>
    11:   </head>
    12: 
  
app/assets/stylesheets/application.scss:22
app/views/layouts/application.html.erb:9
Started POST "/__web_console/repl_sessions/82e2d43fe835300ad27328547da6ca42/trace" for 127.0.0.1 at 2023-05-01 10:58:47 +0700
Started POST "/__web_console/repl_sessions/82e2d43fe835300ad27328547da6ca42/trace" for 127.0.0.1 at 2023-05-01 10:58:48 +0700
Started POST "/__web_console/repl_sessions/82e2d43fe835300ad27328547da6ca42/trace" for 127.0.0.1 at 2023-05-01 10:58:50 +0700
Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 11:00:20 +0700
Processing by InstrumentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 14.7ms | Allocations: 5340)
  Rendered instruments/new.html.erb within layouts/application (Duration: 18.2ms | Allocations: 5649)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 5737)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.0ms | Allocations: 6663)


  
ActionView::Template::Error (uninitialized constant Instrument::BRAND):
    38:               <label class="label">Brand</label>
    39:               <div class="control has-icons-left">
    40:                 <span class="select">
    41:                   <%= f.input_field :brand, collection: Instrument::BRAND, prompt: "Select brand" %>
    42:                 </span>
    43:                 <span class="icon is-small is-left">
    44:                   <i class="fa fa-tag"></i>
  
app/views/instruments/_form.html.erb:41
app/views/instruments/_form.html.erb:4
app/views/instruments/new.html.erb:14
Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 11:01:47 +0700
Processing by InstrumentsController#new as HTML
Completed 500 Internal Server Error in 18ms (Allocations: 2093)


  
NameError (uninitialized constant Instrument::ImageUploader):
  
app/models/instrument.rb:5:in `<class:Instrument>'
app/models/instrument.rb:1:in `<main>'
app/controllers/instruments_controller.rb:15:in `new'
Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 11:02:12 +0700
Processing by InstrumentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 22.6ms | Allocations: 7722)
  Rendered instruments/new.html.erb within layouts/application (Duration: 23.4ms | Allocations: 7802)
  Rendered layout layouts/application.html.erb (Duration: 1216.0ms | Allocations: 539813)
Completed 500 Internal Server Error in 1238ms (ActiveRecord: 1.9ms | Allocations: 544461)


  
ActionView::Template::Error (File to import not found or unreadable: functions.
Load paths:
  /home/quan/flanger/app/assets/config
  /home/quan/flanger/app/assets/images
  /home/quan/flanger/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bulma-rails-0.6.2/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/stimulus-rails-1.2.1/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbo-rails-1.4.0/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/importmap-rails-1.1.6/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actioncable-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activestorage-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionview-7.0.4.3/lib/assets/compiled
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /home/quan/flanger/app/javascript
  /home/quan/flanger/vendor/javascript):
     6: 
     7:     <meta name="viewport" content="width=device-width, initial-scale=1">
     8:     <%= stylesheet_link_tag 'https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' %>
     9:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application' %>
    11:   </head>
    12: 
  
app/assets/stylesheets/application.scss:22
app/views/layouts/application.html.erb:9
Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 11:03:07 +0700
  
NoMethodError (undefined method `protect_from_forgery' for ApplicationRecord:Class):
  
app/models/application_record.rb:2:in `<class:ApplicationRecord>'
app/models/application_record.rb:1:in `<main>'
app/models/user.rb:1:in `<main>'
config/routes.rb:3:in `block in <main>'
config/routes.rb:1:in `<main>'
Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 11:03:45 +0700
Processing by InstrumentsController#new as HTML
Completed 500 Internal Server Error in 6ms (Allocations: 1322)


  
NameError (uninitialized constant Instrument::ImageUploader):
  
app/models/instrument.rb:4:in `<class:Instrument>'
app/models/instrument.rb:1:in `<main>'
app/controllers/instruments_controller.rb:15:in `new'
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddImageToInstruments (20230501040637)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.8ms)[0m  [1m[35mALTER TABLE "instruments" ADD "image" varchar[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230501040637"]]
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddUserIdToInstruments (20230501040751)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.0ms)[0m  [1m[35mALTER TABLE "instruments" ADD "user_id" integer[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230501040751"]]
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 11:10:42 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 53.4ms | Allocations: 15991)
  Rendered instruments/new.html.erb within layouts/application (Duration: 55.6ms | Allocations: 16554)
  Rendered layout layouts/application.html.erb (Duration: 1432.8ms | Allocations: 822098)
Completed 500 Internal Server Error in 1508ms (ActiveRecord: 0.9ms | Allocations: 838164)


  
ActionView::Template::Error (File to import not found or unreadable: functions.
Load paths:
  /home/quan/flanger/app/assets/config
  /home/quan/flanger/app/assets/images
  /home/quan/flanger/app/assets/javascripts
  /home/quan/flanger/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bulma-rails-0.6.2/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/stimulus-rails-1.2.1/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbo-rails-1.4.0/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/importmap-rails-1.1.6/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actioncable-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activestorage-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionview-7.0.4.3/lib/assets/compiled
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /home/quan/flanger/app/javascript
  /home/quan/flanger/vendor/javascript):
     6: 
     7:     <meta name="viewport" content="width=device-width, initial-scale=1">
     8:     <%= stylesheet_link_tag 'https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' %>
     9:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application' %>
    11:   </head>
    12: 
  
app/assets/stylesheets/application.scss:22
app/views/layouts/application.html.erb:9
Started POST "/__web_console/repl_sessions/58242aaed24fd484d1e9186c15b910d7/trace" for 127.0.0.1 at 2023-05-01 11:11:00 +0700
Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 11:11:32 +0700
Processing by InstrumentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 13.8ms | Allocations: 6701)
  Rendered instruments/new.html.erb within layouts/application (Duration: 14.8ms | Allocations: 6770)
  Rendered layout layouts/application.html.erb (Duration: 816.1ms | Allocations: 544141)
Completed 500 Internal Server Error in 820ms (ActiveRecord: 0.0ms | Allocations: 544766)


  
ActionView::Template::Error (File to import not found or unreadable: functions.
Load paths:
  /home/quan/flanger/app/assets/config
  /home/quan/flanger/app/assets/images
  /home/quan/flanger/app/assets/javascripts
  /home/quan/flanger/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bulma-rails-0.6.2/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/stimulus-rails-1.2.1/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbo-rails-1.4.0/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/importmap-rails-1.1.6/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actioncable-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activestorage-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionview-7.0.4.3/lib/assets/compiled
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /home/quan/flanger/app/javascript
  /home/quan/flanger/vendor/javascript):
     6: 
     7:     <meta name="viewport" content="width=device-width, initial-scale=1">
     8:     <%= stylesheet_link_tag 'https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' %>
     9:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application' %>
    11:   </head>
    12: 
  
app/assets/stylesheets/application.scss:22
app/views/layouts/application.html.erb:9
Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 11:12:43 +0700
Processing by InstrumentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 11.0ms | Allocations: 6699)
  Rendered instruments/new.html.erb within layouts/application (Duration: 11.7ms | Allocations: 6768)
  Rendered layout layouts/application.html.erb (Duration: 823.4ms | Allocations: 542389)
Completed 500 Internal Server Error in 827ms (ActiveRecord: 0.0ms | Allocations: 542990)


  
ActionView::Template::Error (File to import not found or unreadable: functions.
Load paths:
  /home/quan/flanger/app/assets/config
  /home/quan/flanger/app/assets/images
  /home/quan/flanger/app/assets/javascripts
  /home/quan/flanger/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bulma-rails-0.6.2/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/stimulus-rails-1.2.1/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbo-rails-1.4.0/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/importmap-rails-1.1.6/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actioncable-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activestorage-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionview-7.0.4.3/lib/assets/compiled
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /home/quan/flanger/app/javascript
  /home/quan/flanger/vendor/javascript):
     6: 
     7:     <meta name="viewport" content="width=device-width, initial-scale=1">
     8:     <%= stylesheet_link_tag 'https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' %>
     9:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application' %>
    11:   </head>
    12: 
  
app/assets/stylesheets/application.scss:22
app/views/layouts/application.html.erb:9
Started GET "/instruments" for 127.0.0.1 at 2023-05-01 11:12:58 +0700
Processing by InstrumentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments"[0m
  ↳ app/views/instruments/index.html.erb:14
  Rendered instruments/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1087)
  Rendered layout layouts/application.html.erb (Duration: 904.2ms | Allocations: 533267)
Completed 500 Internal Server Error in 908ms (ActiveRecord: 0.4ms | Allocations: 533999)


  
ActionView::Template::Error (File to import not found or unreadable: functions.
Load paths:
  /home/quan/flanger/app/assets/config
  /home/quan/flanger/app/assets/images
  /home/quan/flanger/app/assets/javascripts
  /home/quan/flanger/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/bulma-rails-0.6.2/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/coffee-rails-4.2.2/lib/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/stimulus-rails-1.2.1/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbo-rails-1.4.0/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/importmap-rails-1.1.6/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actiontext-7.0.4.3/app/assets/stylesheets
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actioncable-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/activestorage-7.0.4.3/app/assets/javascripts
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/actionview-7.0.4.3/lib/assets/compiled
  /home/quan/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/turbolinks-source-5.2.0/lib/assets/javascripts
  /home/quan/flanger/app/javascript
  /home/quan/flanger/vendor/javascript):
     6: 
     7:     <meta name="viewport" content="width=device-width, initial-scale=1">
     8:     <%= stylesheet_link_tag 'https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' %>
     9:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application' %>
    11:   </head>
    12: 
  
app/assets/stylesheets/application.scss:22
app/views/layouts/application.html.erb:9
Started GET "/instruments" for 127.0.0.1 at 2023-05-01 11:13:33 +0700
Processing by InstrumentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments"[0m
  ↳ app/views/instruments/index.html.erb:14
  Rendered instruments/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 566)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 2920.9ms | Allocations: 1110611)
Completed 200 OK in 2923ms (Views: 2920.1ms | ActiveRecord: 2.1ms | Allocations: 1111087)


Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 11:13:39 +0700
Processing by InstrumentsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 11.7ms | Allocations: 6699)
  Rendered instruments/new.html.erb within layouts/application (Duration: 12.3ms | Allocations: 6768)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 32.6ms | Allocations: 14347)
Completed 200 OK in 36ms (Views: 33.6ms | ActiveRecord: 0.5ms | Allocations: 14802)


Started GET "/sign_in" for 127.0.0.1 at 2023-05-01 11:32:10 +0700
  
ActionController::RoutingError (No route matches [GET] "/sign_in"):
  
Started GET "/users/sign_in" for 127.0.0.1 at 2023-05-01 11:32:20 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Filter chain halted as :require_no_authentication rendered or redirected
Completed 302 Found in 24ms (ActiveRecord: 2.0ms | Allocations: 4163)


Started GET "/" for 127.0.0.1 at 2023-05-01 11:32:20 +0700
Processing by InstrumentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  Rendered instruments/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 673)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 26.5ms | Allocations: 8398)
Completed 200 OK in 50ms (Views: 29.7ms | ActiveRecord: 0.6ms | Allocations: 11525)


Started DELETE "/users/sign_out" for 127.0.0.1 at 2023-05-01 11:32:23 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 303 See Other in 25ms (ActiveRecord: 0.6ms | Allocations: 2882)


Started GET "/" for 127.0.0.1 at 2023-05-01 11:32:23 +0700
Processing by InstrumentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  Rendered instruments/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 616)
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | Allocations: 7529)
Completed 200 OK in 26ms (Views: 24.8ms | ActiveRecord: 0.2ms | Allocations: 7950)


Started GET "/users/sign_in" for 127.0.0.1 at 2023-05-01 11:32:26 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 10.5ms | Allocations: 719)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 48.1ms | Allocations: 5404)
  Rendered layout layouts/application.html.erb (Duration: 74.1ms | Allocations: 12244)
Completed 200 OK in 87ms (Views: 81.3ms | ActiveRecord: 0.0ms | Allocations: 13491)


Started POST "/users/sign_in" for 127.0.0.1 at 2023-05-01 11:32:27 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"andy@web-crunch.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "andy@web-crunch.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 303 See Other in 254ms (ActiveRecord: 0.6ms | Allocations: 3356)


Started GET "/" for 127.0.0.1 at 2023-05-01 11:32:28 +0700
Processing by InstrumentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  Rendered instruments/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 614)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 30.5ms | Allocations: 8215)
Completed 200 OK in 33ms (Views: 31.7ms | ActiveRecord: 0.4ms | Allocations: 8690)


Started GET "/" for 127.0.0.1 at 2023-05-01 11:33:02 +0700
Processing by InstrumentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  Rendered instruments/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 614)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 27.1ms | Allocations: 8206)
Completed 200 OK in 32ms (Views: 28.8ms | ActiveRecord: 0.8ms | Allocations: 8637)


Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 11:33:16 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 28.1ms | Allocations: 6989)
  Rendered instruments/new.html.erb within layouts/application (Duration: 28.7ms | Allocations: 7061)
  Rendered layout layouts/application.html.erb (Duration: 45.1ms | Allocations: 13880)
Completed 200 OK in 172ms (Views: 46.5ms | ActiveRecord: 0.2ms | Allocations: 30310)


Started POST "/instruments" for 127.0.0.1 at 2023-05-01 11:34:54 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"123", "price"=>"123", "model"=>"123", "description"=>"123", "brand"=>"PRS", "finish"=>"Yellow", "condition"=>"Used", "image"=>#<ActionDispatch::Http::UploadedFile:0x00007f948e1d5b58 @tempfile=#<Tempfile:/tmp/RackMultipart20230501-5716-xrp3wm.jpg>, @original_filename="instrument1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"instrument1.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at /home/quan/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at /home/quan/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at /home/quan/flanger/app/controllers/instruments_controller.rb:24)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/instruments_controller.rb:27:in `block in create'
  [1m[36mInstrument Create (0.9ms)[0m  [1m[32mINSERT INTO "instruments" ("brand", "model", "description", "condition", "finish", "title", "price", "created_at", "updated_at", "image", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["brand", "PRS"], ["model", "123"], ["description", "123"], ["condition", "Used"], ["finish", "Yellow"], ["title", "123"], ["price", 123.0], ["created_at", "2023-05-01 04:34:55.013752"], ["updated_at", "2023-05-01 04:34:55.013752"], ["image", "\"instrument1.jpg\""], ["user_id", 1]]
  ↳ app/controllers/instruments_controller.rb:27:in `block in create'
  [1m[36mTRANSACTION (6.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/instruments_controller.rb:27:in `block in create'
Redirected to http://localhost:3000/instruments/1
Completed 302 Found in 478ms (ActiveRecord: 8.1ms | Allocations: 14060)


Started GET "/instruments/1" for 127.0.0.1 at 2023-05-01 11:34:55 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mInstrument Load (0.7ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  Rendered instruments/show.html.erb within layouts/application (Duration: 22.9ms | Allocations: 5151)
  Rendered layout layouts/application.html.erb (Duration: 23.4ms | Allocations: 5238)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 1.2ms | Allocations: 6931)


  
ActionView::Template::Error (undefined method `line_items_path' for #<ActionView::Base:0x000000000144d8>):
    62:       <div class="bg-white pa4 border-radius-3">
    63:         <h4 class="title is-5 has-text-centered"><%= number_to_currency(@instrument.price) %></h4>
    64:         <p class="has-text-centered mb4">Sold by <%= @instrument.user.name %></p>
    65:         <%= button_to 'Add to cart', line_items_path(instrument_id: @instrument), class: 'button is-warning add-to-cart' %>
    66:       </div>
    67:     </div>
    68:   </div>
  
app/views/instruments/show.html.erb:65
Started GET "/instruments/1" for 127.0.0.1 at 2023-05-01 11:35:42 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  Rendered instruments/show.html.erb within layouts/application (Duration: 8.1ms | Allocations: 2730)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 2818)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.5ms | Allocations: 4257)


  
ActionView::Template::Error (undefined method `instrument_author' for #<ActionView::Base:0x00000000014848>):
    67:     </div>
    68:   </div>
    69: 
    70:   <% if instrument_author(@instrument) %>
    71:     <%= link_to 'Edit', edit_instrument_path(@instrument), class: 'button' %>
    72:   <% end %>
    73: </section>
  
app/views/instruments/show.html.erb:70
Started GET "/instruments/1" for 127.0.0.1 at 2023-05-01 11:36:02 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  Rendered instruments/show.html.erb within layouts/application (Duration: 9.6ms | Allocations: 3354)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 3442)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.4ms | Allocations: 4882)


  
ActionView::Template::Error (undefined method `instrument_author' for #<ActionView::Base:0x00000000014b40>):
    67:     </div>
    68:   </div>
    69: 
    70:   <% if instrument_author(@instrument) %>
    71:     <%= link_to 'Edit', edit_instrument_path(@instrument), class: 'button' %>
    72:   <% end %>
    73: </section>
  
app/views/instruments/show.html.erb:70
Started GET "/instruments/1" for 127.0.0.1 at 2023-05-01 11:36:28 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  Rendered instruments/show.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1773)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 30.4ms | Allocations: 10094)
Completed 200 OK in 39ms (Views: 34.0ms | ActiveRecord: 0.6ms | Allocations: 11556)


Started GET "/instruments/1" for 127.0.0.1 at 2023-05-01 11:38:18 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  Rendered instruments/show.html.erb within layouts/application (Duration: 16.6ms | Allocations: 6357)
  Rendered layout layouts/application.html.erb (Duration: 17.4ms | Allocations: 6445)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 2.9ms | Allocations: 14110)


  
ActionView::Template::Error (undefined method `line_items_path' for #<ActionView::Base:0x00000000019be0>):
    62:       <div class="bg-white pa4 border-radius-3">
    63:         <h4 class="title is-5 has-text-centered"><%= number_to_currency(@instrument.price) %></h4>
    64:         <p class="has-text-centered mb4">Sold by <%= @instrument.user.name %></p>
    65:         <%= button_to 'Add to cart', line_items_path(instrument_id: @instrument), class: 'button is-warning add-to-cart' %>
    66:       </div>
    67:     </div>
    68:   </div>
  
app/views/instruments/show.html.erb:65
Started GET "/instruments/1" for 127.0.0.1 at 2023-05-01 11:42:32 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  Rendered instruments/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 2531)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 2619)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.6ms | Allocations: 4035)


  
ActionView::Template::Error (undefined method `line_items_path' for #<ActionView::Base:0x00000000019f00>):
    62:       <div class="bg-white pa4 border-radius-3">
    63:         <h4 class="title is-5 has-text-centered"><%= number_to_currency(@instrument.price) %></h4>
    64:         <p class="has-text-centered mb4">Sold by <%= @instrument.user.name %></p>
    65:         <%= button_to 'Add to cart', line_items_path(instrument_id: @instrument), class: 'button is-warning add-to-cart' %>
    66:       </div>
    67:     </div>
    68:   </div>
  
app/views/instruments/show.html.erb:65
Started GET "/" for 127.0.0.1 at 2023-05-01 11:42:38 +0700
Processing by InstrumentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 3205)
  Rendered layout layouts/application.html.erb (Duration: 30.0ms | Allocations: 10780)
Completed 200 OK in 34ms (Views: 30.3ms | ActiveRecord: 1.2ms | Allocations: 11323)


Started GET "/instruments/1/edit" for 127.0.0.1 at 2023-05-01 12:53:26 +0700
Processing by InstrumentsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/edit.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 11.8ms | Allocations: 7594)
  Rendered instruments/edit.html.erb within layouts/application (Duration: 13.9ms | Allocations: 7887)
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | Allocations: 14715)
Completed 200 OK in 80ms (Views: 25.9ms | ActiveRecord: 1.5ms | Allocations: 23974)


Started PATCH "/instruments/1" for 127.0.0.1 at 2023-05-01 12:53:29 +0700
Processing by InstrumentsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"123", "price"=>"123.0", "model"=>"123", "description"=>"123", "brand"=>"PRS", "finish"=>"Yellow", "condition"=>"Used"}, "commit"=>"Update Instrument", "id"=>"1"}
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Redirected to http://localhost:3000/instruments/1
Completed 302 Found in 15ms (ActiveRecord: 0.5ms | Allocations: 2968)


Started GET "/instruments/1" for 127.0.0.1 at 2023-05-01 12:53:30 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  Rendered instruments/show.html.erb within layouts/application (Duration: 7.2ms | Allocations: 1963)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 2050)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.1ms | Allocations: 2957)


  
ActionView::Template::Error (undefined method `line_items_path' for #<ActionView::Base:0x0000000001a388>):
    62:       <div class="bg-white pa4 border-radius-3">
    63:         <h4 class="title is-5 has-text-centered"><%= number_to_currency(@instrument.price) %></h4>
    64:         <p class="has-text-centered mb4">Sold by <%= @instrument.user.name %></p>
    65:         <%= button_to 'Add to cart', line_items_path(instrument_id: @instrument), class: 'button is-warning add-to-cart' %>
    66:       </div>
    67:     </div>
    68:   </div>
  
app/views/instruments/show.html.erb:65
Started GET "/instruments/" for 127.0.0.1 at 2023-05-01 12:53:37 +0700
Processing by InstrumentsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.6ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/index.html.erb within layouts/application (Duration: 15.1ms | Allocations: 2536)
  Rendered layout layouts/application.html.erb (Duration: 29.7ms | Allocations: 9374)
Completed 200 OK in 33ms (Views: 29.9ms | ActiveRecord: 1.2ms | Allocations: 9831)


Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 12:53:45 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 12.5ms | Allocations: 6622)
  Rendered instruments/new.html.erb within layouts/application (Duration: 15.5ms | Allocations: 6854)
  Rendered layout layouts/application.html.erb (Duration: 29.0ms | Allocations: 13681)
Completed 200 OK in 44ms (Views: 33.0ms | ActiveRecord: 0.4ms | Allocations: 16047)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCarts (20230501055552)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230501055552"]]
  [1m[36mTRANSACTION (8.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateLineItems (20230501055948)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "instrument_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_91d8c37bea"
FOREIGN KEY ("instrument_id")
  REFERENCES "instruments" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_instrument_id" ON "line_items" ("instrument_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230501055948"]]
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddQuantityToLineItems (20230501061049)
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.6ms)[0m  [1m[35mALTER TABLE "line_items" ADD "quantity" integer DEFAULT 1[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20230501061049"]]
  [1m[36mTRANSACTION (7.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/instruments/1" for 127.0.0.1 at 2023-05-01 13:23:03 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-01 06:23:04.015020"], ["updated_at", "2023-05-01 06:23:04.015020"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 52.4ms | Allocations: 12534)
  Rendered layout layouts/application.html.erb (Duration: 584.6ms | Allocations: 319494)
Completed 200 OK in 738ms (Views: 587.3ms | ActiveRecord: 13.2ms | Allocations: 345101)


Started POST "/line_items?instrument_id=1" for 127.0.0.1 at 2023-05-01 13:24:47 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:26:in `create'
Completed 400 Bad Request in 12ms (ActiveRecord: 0.6ms | Allocations: 2378)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:72:in `line_item_params'
app/controllers/line_items_controller.rb:27:in `create'
Started POST "/line_items?instrument_id=1" for 127.0.0.1 at 2023-05-01 13:25:32 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"1"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:26:in `create'
Completed 400 Bad Request in 36ms (ActiveRecord: 3.3ms | Allocations: 10403)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:72:in `line_item_params'
app/controllers/line_items_controller.rb:27:in `create'
Started GET "/line_items?instrument_id=1" for 127.0.0.1 at 2023-05-01 13:26:38 +0700
Processing by LineItemsController#index as HTML
  Parameters: {"instrument_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  ↳ app/views/line_items/index.html.erb:6
  Rendered line_items/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 1076)
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 47.8ms | Allocations: 12217)
Completed 200 OK in 60ms (Views: 51.2ms | ActiveRecord: 2.9ms | Allocations: 14356)


Started GET "/line_items?instrument_id=1" for 127.0.0.1 at 2023-05-01 13:28:30 +0700
Processing by LineItemsController#index as HTML
  Parameters: {"instrument_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  ↳ app/views/line_items/index.html.erb:6
  Rendered line_items/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 836)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 28.7ms | Allocations: 11220)
Completed 200 OK in 37ms (Views: 31.8ms | ActiveRecord: 2.8ms | Allocations: 12984)


Started GET "/line_items?instrument_id=1" for 127.0.0.1 at 2023-05-01 13:28:38 +0700
Processing by LineItemsController#index as HTML
  Parameters: {"instrument_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  ↳ app/views/line_items/index.html.erb:6
  Rendered line_items/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 602)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 22.4ms | Allocations: 8186)
Completed 200 OK in 26ms (Views: 23.4ms | ActiveRecord: 0.6ms | Allocations: 8625)


Started GET "/line_items?instrument_id=1" for 127.0.0.1 at 2023-05-01 13:30:21 +0700
Processing by LineItemsController#index as HTML
  Parameters: {"instrument_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  ↳ app/views/line_items/index.html.erb:6
  Rendered line_items/index.html.erb within layouts/application (Duration: 13.8ms | Allocations: 836)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 37.9ms | Allocations: 11310)
Completed 200 OK in 45ms (Views: 39.9ms | ActiveRecord: 12.2ms | Allocations: 13078)


Started GET "/line_items?instrument_id=1" for 127.0.0.1 at 2023-05-01 13:30:24 +0700
Processing by LineItemsController#index as HTML
  Parameters: {"instrument_id"=>"1"}
  Rendering layout layouts/application.html.erb
  Rendering line_items/index.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items"[0m
  ↳ app/views/line_items/index.html.erb:6
  Rendered line_items/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 607)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 24.7ms | Allocations: 8196)
Completed 200 OK in 28ms (Views: 25.8ms | ActiveRecord: 0.7ms | Allocations: 8630)


Started GET "/" for 127.0.0.1 at 2023-05-01 13:30:37 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/index.html.erb within layouts/application (Duration: 28.5ms | Allocations: 7554)
  Rendered layout layouts/application.html.erb (Duration: 45.0ms | Allocations: 14466)
Completed 200 OK in 72ms (Views: 44.7ms | ActiveRecord: 3.9ms | Allocations: 21082)


Started GET "/instruments/1" for 127.0.0.1 at 2023-05-01 13:30:39 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 15.5ms | Allocations: 2587)
  Rendered layout layouts/application.html.erb (Duration: 31.3ms | Allocations: 9409)
Completed 200 OK in 47ms (Views: 32.0ms | ActiveRecord: 1.8ms | Allocations: 11532)


Started POST "/line_items?instrument_id=1" for 127.0.0.1 at 2023-05-01 13:30:40 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 1], ["instrument_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.9ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 1], ["cart_id", 1], ["created_at", "2023-05-01 06:30:41.040397"], ["updated_at", "2023-05-01 06:30:41.040397"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (5.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 60ms (ActiveRecord: 11.5ms | Allocations: 14042)


Started GET "/carts/1" for 127.0.0.1 at 2023-05-01 13:30:41 +0700
  
NameError (undefined local variable or method `invalid_cart' for CartsController:Class):
  
app/controllers/carts_controller.rb:2:in `<class:CartsController>'
app/controllers/carts_controller.rb:1:in `<main>'
Started GET "/carts/1" for 127.0.0.1 at 2023-05-01 13:31:48 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  Rendered carts/_cart.html.erb (Duration: 1.5ms | Allocations: 151)
  Rendered carts/show.html.erb within layouts/application (Duration: 8.1ms | Allocations: 1138)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 32.8ms | Allocations: 11478)
Completed 200 OK in 52ms (Views: 37.5ms | ActiveRecord: 2.4ms | Allocations: 15445)


Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 13:31:55 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 56.5ms | Allocations: 14544)
  Rendered instruments/new.html.erb within layouts/application (Duration: 58.2ms | Allocations: 14849)
  Rendered layout layouts/application.html.erb (Duration: 69.8ms | Allocations: 21754)
Completed 200 OK in 112ms (Views: 72.9ms | ActiveRecord: 2.2ms | Allocations: 31799)


Started GET "/instruments/new" for 127.0.0.1 at 2023-05-01 13:31:56 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 14.0ms | Allocations: 6665)
  Rendered instruments/new.html.erb within layouts/application (Duration: 14.8ms | Allocations: 6734)
  Rendered layout layouts/application.html.erb (Duration: 29.7ms | Allocations: 13561)
Completed 200 OK in 43ms (Views: 31.3ms | ActiveRecord: 0.7ms | Allocations: 15833)


Started GET "/" for 127.0.0.1 at 2023-05-01 13:31:58 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (1.1ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/index.html.erb within layouts/application (Duration: 16.2ms | Allocations: 3682)
  Rendered layout layouts/application.html.erb (Duration: 29.7ms | Allocations: 10509)
Completed 200 OK in 37ms (Views: 29.3ms | ActiveRecord: 2.2ms | Allocations: 11466)


Started GET "/instruments/1" for 127.0.0.1 at 2023-05-01 13:32:00 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 11.9ms | Allocations: 2002)
  Rendered layout layouts/application.html.erb (Duration: 42.3ms | Allocations: 8847)
Completed 200 OK in 55ms (Views: 43.5ms | ActiveRecord: 1.7ms | Allocations: 10867)


Started POST "/line_items?instrument_id=1" for 127.0.0.1 at 2023-05-01 13:32:01 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 1], ["instrument_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE "line_items" SET "updated_at" = ?, "quantity" = ? WHERE "line_items"."id" = ?[0m  [["updated_at", "2023-05-01 06:32:01.190370"], ["quantity", 2], ["id", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (8.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/1
Completed 302 Found in 64ms (ActiveRecord: 12.7ms | Allocations: 12634)


Started GET "/carts/1" for 127.0.0.1 at 2023-05-01 13:32:01 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  Rendered carts/_cart.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered carts/show.html.erb within layouts/application (Duration: 2.9ms | Allocations: 393)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 21.9ms | Allocations: 7996)
Completed 200 OK in 26ms (Views: 22.4ms | ActiveRecord: 0.7ms | Allocations: 8933)


Started DELETE "/carts/1" for 127.0.0.1 at 2023-05-01 13:32:03 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (2.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.5ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 33ms (ActiveRecord: 8.0ms | Allocations: 7567)


Started GET "/carts" for 127.0.0.1 at 2023-05-01 13:32:03 +0700
Processing by CartsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:6
  Rendered carts/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 866)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 8453)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.4ms | Allocations: 8990)


Started GET "/" for 127.0.0.1 at 2023-05-01 13:32:05 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-01 06:32:05.146560"], ["updated_at", "2023-05-01 06:32:05.146560"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (8.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.6ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 2536)
  Rendered layout layouts/application.html.erb (Duration: 31.9ms | Allocations: 9368)
Completed 200 OK in 61ms (Views: 36.0ms | ActiveRecord: 11.3ms | Allocations: 14345)


Started GET "/" for 127.0.0.1 at 2023-05-01 13:38:44 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/index.html.erb within layouts/application (Duration: 31.4ms | Allocations: 9240)
  Rendered layout layouts/application.html.erb (Duration: 47.5ms | Allocations: 16845)
Completed 200 OK in 73ms (Views: 49.3ms | ActiveRecord: 2.1ms | Allocations: 23430)


Started GET "/instruments/1" for 127.0.0.1 at 2023-05-01 13:38:47 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.6ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 13.6ms | Allocations: 2587)
  Rendered layout layouts/application.html.erb (Duration: 25.5ms | Allocations: 9409)
Completed 200 OK in 38ms (Views: 26.5ms | ActiveRecord: 1.5ms | Allocations: 11550)


Started POST "/line_items?instrument_id=1" for 127.0.0.1 at 2023-05-01 13:38:49 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.7ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 2], ["instrument_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 1], ["cart_id", 2], ["created_at", "2023-05-01 06:38:49.445515"], ["updated_at", "2023-05-01 06:38:49.445515"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (10.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/2
Completed 302 Found in 75ms (ActiveRecord: 13.7ms | Allocations: 12219)


Started GET "/carts/2" for 127.0.0.1 at 2023-05-01 13:38:49 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 10.9ms | Allocations: 1423)
  Rendered carts/show.html.erb within layouts/application (Duration: 22.2ms | Allocations: 3908)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 37.1ms | Allocations: 11568)
Completed 200 OK in 46ms (Views: 37.7ms | ActiveRecord: 2.3ms | Allocations: 12977)


Started DELETE "/carts/2" for 127.0.0.1 at 2023-05-01 13:38:59 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"2"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (1.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (1.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (7.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 37ms (ActiveRecord: 10.9ms | Allocations: 6712)


Started GET "/carts" for 127.0.0.1 at 2023-05-01 13:38:59 +0700
Processing by CartsController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:6
  Rendered carts/index.html.erb within layouts/application (Duration: 20.8ms | Allocations: 860)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 43.2ms | Allocations: 8480)
Completed 200 OK in 46ms (Views: 43.6ms | ActiveRecord: 0.7ms | Allocations: 9015)


Started GET "/" for 127.0.0.1 at 2023-05-01 13:39:01 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-01 06:39:01.729774"], ["updated_at", "2023-05-01 06:39:01.729774"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (7.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 2536)
  Rendered layout layouts/application.html.erb (Duration: 31.1ms | Allocations: 9399)
Completed 200 OK in 57ms (Views: 31.4ms | ActiveRecord: 10.2ms | Allocations: 14391)


Started GET "/instruments/1" for 127.0.0.1 at 2023-05-01 13:39:02 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 13.2ms | Allocations: 1973)
  Rendered layout layouts/application.html.erb (Duration: 28.6ms | Allocations: 8795)
Completed 200 OK in 36ms (Views: 29.6ms | ActiveRecord: 1.2ms | Allocations: 10205)


Started POST "/line_items?instrument_id=1" for 127.0.0.1 at 2023-05-01 13:39:04 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 3], ["instrument_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.0ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 1], ["cart_id", 3], ["created_at", "2023-05-01 06:39:04.131856"], ["updated_at", "2023-05-01 06:39:04.131856"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 36ms (ActiveRecord: 10.3ms | Allocations: 7166)


Started GET "/carts/3" for 127.0.0.1 at 2023-05-01 13:39:04 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.3ms | Allocations: 1114)
  Rendered carts/show.html.erb within layouts/application (Duration: 11.7ms | Allocations: 2298)
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 31.5ms | Allocations: 9885)
Completed 200 OK in 36ms (Views: 32.0ms | ActiveRecord: 1.4ms | Allocations: 10813)


Started DELETE "/line_items/3" for 127.0.0.1 at 2023-05-01 13:39:35 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:71:in `set_line_item'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:60:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:61:in `destroy'
  [1m[36mLineItem Destroy (1.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/line_items_controller.rb:61:in `destroy'
  [1m[36mTRANSACTION (13.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:61:in `destroy'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 39ms (ActiveRecord: 15.9ms | Allocations: 5641)


Started GET "/carts/3" for 127.0.0.1 at 2023-05-01 13:39:35 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:6
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 24)
  Rendered carts/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1173)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 33.7ms | Allocations: 8761)
Completed 200 OK in 39ms (Views: 33.9ms | ActiveRecord: 1.1ms | Allocations: 9693)


Started GET "/" for 127.0.0.1 at 2023-05-01 13:39:38 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.7ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 2536)
  Rendered layout layouts/application.html.erb (Duration: 33.1ms | Allocations: 9404)
Completed 200 OK in 42ms (Views: 33.6ms | ActiveRecord: 1.9ms | Allocations: 10335)


Started GET "/instruments/1" for 127.0.0.1 at 2023-05-01 13:39:40 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 10.2ms | Allocations: 1973)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 8801)
Completed 200 OK in 34ms (Views: 26.7ms | ActiveRecord: 0.9ms | Allocations: 10202)


Started POST "/line_items?instrument_id=1" for 127.0.0.1 at 2023-05-01 13:39:42 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 3], ["instrument_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.5ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 1], ["cart_id", 3], ["created_at", "2023-05-01 06:39:42.715047"], ["updated_at", "2023-05-01 06:39:42.715047"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (8.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 41ms (ActiveRecord: 11.3ms | Allocations: 7178)


Started GET "/carts/3" for 127.0.0.1 at 2023-05-01 13:39:42 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.4ms | Allocations: 1114)
  Rendered carts/show.html.erb within layouts/application (Duration: 11.2ms | Allocations: 2298)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 29.7ms | Allocations: 9885)
Completed 200 OK in 35ms (Views: 30.3ms | ActiveRecord: 1.0ms | Allocations: 10810)


Started GET "/carts/3" for 127.0.0.1 at 2023-05-01 13:41:00 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 32.4ms | Allocations: 8407)
  Rendered carts/show.html.erb within layouts/application (Duration: 63.9ms | Allocations: 14345)
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 88.2ms | Allocations: 24676)
Completed 200 OK in 115ms (Views: 84.9ms | ActiveRecord: 7.9ms | Allocations: 28452)


Started DELETE "/carts/3" for 127.0.0.1 at 2023-05-01 13:41:03 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (10.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 39ms (ActiveRecord: 13.0ms | Allocations: 6732)


Started GET "/" for 127.0.0.1 at 2023-05-01 13:41:03 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-01 06:41:03.936051"], ["updated_at", "2023-05-01 06:41:03.936051"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/index.html.erb within layouts/application (Duration: 12.9ms | Allocations: 4043)
  Rendered layout layouts/application.html.erb (Duration: 24.2ms | Allocations: 10955)
Completed 200 OK in 45ms (Views: 26.4ms | ActiveRecord: 8.0ms | Allocations: 16326)


Started GET "/" for 127.0.0.1 at 2023-05-01 13:46:49 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/index.html.erb within layouts/application (Duration: 46.0ms | Allocations: 9294)
  [1m[36mLineItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:9:in `total_cart_items'
  Rendered layout layouts/application.html.erb (Duration: 75.1ms | Allocations: 19395)
Completed 200 OK in 112ms (Views: 78.9ms | ActiveRecord: 2.1ms | Allocations: 25834)


Started GET "/instruments/1" for 127.0.0.1 at 2023-05-01 13:46:50 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 13.2ms | Allocations: 2589)
  [1m[36mLineItem Count (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:9:in `total_cart_items'
  Rendered layout layouts/application.html.erb (Duration: 33.0ms | Allocations: 10149)
Completed 200 OK in 43ms (Views: 33.0ms | ActiveRecord: 1.8ms | Allocations: 12273)


Started POST "/line_items?instrument_id=1" for 127.0.0.1 at 2023-05-01 13:46:52 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.1ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 4], ["instrument_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 1], ["cart_id", 4], ["created_at", "2023-05-01 06:46:52.370929"], ["updated_at", "2023-05-01 06:46:52.370929"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (8.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 46ms (ActiveRecord: 10.4ms | Allocations: 10640)


Started GET "/carts/4" for 127.0.0.1 at 2023-05-01 13:46:52 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.9ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 10.0ms | Allocations: 1381)
  Rendered carts/show.html.erb within layouts/application (Duration: 20.0ms | Allocations: 3806)
  [1m[36mLineItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:9:in `total_cart_items'
  [1m[36mCACHE LineItem Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:3:in `cart_count_over_one'
  [1m[36mCACHE LineItem Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:4:in `cart_count_over_one'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 46.2ms | Allocations: 13306)
Completed 200 OK in 55ms (Views: 47.2ms | ActiveRecord: 2.2ms | Allocations: 14725)


Started GET "/carts/4" for 127.0.0.1 at 2023-05-01 13:46:54 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.1ms | Allocations: 1114)
  Rendered carts/show.html.erb within layouts/application (Duration: 9.9ms | Allocations: 2298)
  [1m[36mLineItem Count (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:9:in `total_cart_items'
  [1m[36mCACHE LineItem Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:3:in `cart_count_over_one'
  [1m[36mCACHE LineItem Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:4:in `cart_count_over_one'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 39.1ms | Allocations: 11714)
Completed 200 OK in 44ms (Views: 38.4ms | ActiveRecord: 1.8ms | Allocations: 12619)


Started GET "/carts/4" for 127.0.0.1 at 2023-05-01 13:46:55 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 16.0ms | Allocations: 1114)
  Rendered carts/show.html.erb within layouts/application (Duration: 23.4ms | Allocations: 2298)
  [1m[36mLineItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:9:in `total_cart_items'
  [1m[36mCACHE LineItem Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:3:in `cart_count_over_one'
  [1m[36mCACHE LineItem Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:4:in `cart_count_over_one'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 58.5ms | Allocations: 11748)
Completed 200 OK in 66ms (Views: 59.0ms | ActiveRecord: 1.8ms | Allocations: 12678)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andy@example.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["email", "andy@example.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-01 06:49:22.796320"], ["updated_at", "2023-05-01 06:49:22.796320"], ["name", "Andy Leverenz"]]
  [1m[36mTRANSACTION (6.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andy@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andy@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "andy@example.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 2], ["email", "quan@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-01 06:54:15.819363"], ["updated_at", "2023-05-01 06:54:15.819363"], ["name", "quan"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 3], ["email", "quan@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-01 06:54:42.200427"], ["updated_at", "2023-05-01 06:54:42.200427"], ["name", "quan"]]
  [1m[36mTRANSACTION (5.4ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mInstrument Create (0.7ms)[0m  [1m[32mINSERT INTO "instruments" ("brand", "model", "description", "condition", "finish", "title", "price", "created_at", "updated_at", "image", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["brand", "PRS"], ["model", "Paul Reed Smith Paul's Guitar"], ["description", "Donec sed odio dui. Maecenas sed diam eget risus varius blandit sit amet non magna."], ["condition", "Excellent"], ["finish", "Red"], ["title", "Paul Reed Smith Paul's Guitar 2013"], ["price", 2999.0], ["created_at", "2023-05-01 06:54:42.539361"], ["updated_at", "2023-05-01 06:54:42.539361"], ["image", "\"instrument1.jpg\""], ["user_id", 3]]
  [1m[36mTRANSACTION (7.9ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mInstrument Create (1.0ms)[0m  [1m[32mINSERT INTO "instruments" ("brand", "model", "description", "condition", "finish", "title", "price", "created_at", "updated_at", "image", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["brand", "Gibson"], ["model", "Les Paul Standard"], ["description", "Hello and thank you for looking at my Item. We are proud to present this stunning 2018 Gibson Les Paul Standard in Bourbon Burst in 100% Mint/Unplayed condition! The 2017 LP Standards are extremely nice,  with a super comfortable necks, and awesome bold finishes.  This Bourbon Burst finish is absolutely stunning! The tone that comes out of this monster is everything you would expect from a Les Paul Standard!! The guitar sounds awesome and has that famous Les Paul  Tone.  Very easy to play with a nice comfortable standard neck featuring a compound radius fret board which means shredding speed is easier on a Gibson! This is one great guitar for the money!  Will  ship via Fed Ex Ground or Home Delivery in Brand New Gibson case with pictured case candy insured for full purchase price!"], ["condition", "Used"], ["finish", "Red"], ["title", "2017 Gibson Les Paul Standard Bourbon Burst 100% Mint/Unplayed Condition!"], ["price", 2595.0], ["created_at", "2023-05-01 06:54:42.765397"], ["updated_at", "2023-05-01 06:54:42.765397"], ["image", "\"instrument2.jpg\""], ["user_id", 3]]
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mInstrument Create (0.6ms)[0m  [1m[32mINSERT INTO "instruments" ("brand", "model", "description", "condition", "finish", "title", "price", "created_at", "updated_at", "image", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["brand", "Suhr"], ["model", "Antique Pro SSS Limited"], ["description", "Our customers have asked for an instrument that has a vintage look and feel, without sacrificing playability and tone. Enter the Classic Antique™. We designed this guitar to ensure it preserves the spirit of a vintage instrument while performing like a Suhr. Impeccable craftsmanship and attention to detail ensure that every neck pocket is tight, every fret is perfectly dressed, and that every instrument is ready for peak performance before leaving our facility.\nThe nitro-cellulose lacquer finish and our proprietary antiquing process make each Classic Antique™ feel like it has been loved for years. The Classic Antique now includes: our innovative SSCII (Silent Single-Coil) hum cancelling system, a vintage tinted nitrocellulose neck with stainless steel frets, and a Maple fingerboard option."], ["condition", "New"], ["finish", "Seafoam"], ["title", "Suhr Classic Antique Pro SSS Limited - Surf Green Over 3 Tone Sunburst"], ["price", 2845.0], ["created_at", "2023-05-01 06:54:42.873399"], ["updated_at", "2023-05-01 06:54:42.873399"], ["image", "\"instrument3.jpg\""], ["user_id", 3]]
  [1m[36mTRANSACTION (5.2ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mInstrument Create (0.9ms)[0m  [1m[32mINSERT INTO "instruments" ("brand", "model", "description", "condition", "finish", "title", "price", "created_at", "updated_at", "image", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["brand", "Fender"], ["model", "Telecaster"], ["description", "The Fender American Professional Series Telecaster brings the company's original electric guitar rocketing into the 21st century with a full complement of upgraded electronics and appointments. Sporting a pair of V-Mod Single-Coil pickups designed by guitar sensei Tim Shaw himself, each pup is custom designed for its placement to get the most out of your neck and bridge. For those who want that trebled Tele scream in lower volume settings, have no fear: the new treble bleed circuit standard on the American Pro Series ensures you get that same presence regardless of where you have the volume knob."], ["condition", "New"], ["finish", "Clear"], ["title", "Fender American Professional Series Telecaster"], ["price", 960.0], ["created_at", "2023-05-01 06:54:43.185049"], ["updated_at", "2023-05-01 06:54:43.185049"], ["image", "\"instrument4.jpg\""], ["user_id", 3]]
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mInstrument Create (0.8ms)[0m  [1m[32mINSERT INTO "instruments" ("brand", "model", "description", "condition", "finish", "title", "price", "created_at", "updated_at", "image", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["brand", "Gibson"], ["model", "SG"], ["description", "The Gibson SG Special Faded was born from a variety of small changes made to Gibson instruments over the course of 50-plus years. The SG Special evolved from the Les Paul Special in the early '60s, and was meant to be a less expensive, stripped-down version of the SG Standard for no-frills players. The SG Special Faded, released in 2002 and still in production today, implemented another cost-reducing measure: the use of a light satin finish. Those digging the SG body shape but who don't need unnecessary bells and whistles may want to take a look at the Gibson SG Special Faded. "], ["condition", "Used"], ["finish", "Red"], ["title", "Gibson SG Special"], ["price", 599.0], ["created_at", "2023-05-01 06:54:43.277514"], ["updated_at", "2023-05-01 06:54:43.277514"], ["image", "\"instrument5.jpg\""], ["user_id", 3]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from <main> at /home/quan/flanger/db/seeds.rb:18)
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mInstrument Create (1.0ms)[0m  [1m[32mINSERT INTO "instruments" ("brand", "model", "description", "condition", "finish", "title", "price", "created_at", "updated_at", "image", "user_id") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["brand", "Ibanez"], ["model", "SG"], ["description", "Path Metheny Signature model guitar in excellent condition. Near zero fret wear and electronics work as expected. Gorgeous natural finish and high quality materials. Back looks amazing as well. No buzz nor issues, low action and very nice tone."], ["condition", "Used"], ["finish", "Yellow"], ["title", "Ibanez PM20 Pat Metheny Signature + Hard Shell case"], ["price", 799.0], ["created_at", "2023-05-01 06:54:43.462820"], ["updated_at", "2023-05-01 06:54:43.462820"], ["image", "\"instrument6.jpg\""], ["user_id", 3]]
  [1m[36mTRANSACTION (8.0ms)[0m  [1m[36mcommit transaction[0m
Started GET "/carts/4" for 127.0.0.1 at 2023-05-01 13:55:33 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 96.6ms | Allocations: 14815)
  Rendered carts/show.html.erb within layouts/application (Duration: 167.5ms | Allocations: 24750)
  [1m[36mLineItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:9:in `total_cart_items'
  [1m[36mCACHE LineItem Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:3:in `cart_count_over_one'
  [1m[36mCACHE LineItem Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:4:in `cart_count_over_one'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 872.9ms | Allocations: 357336)
Completed 200 OK in 985ms (Views: 875.5ms | ActiveRecord: 6.6ms | Allocations: 366973)


Started GET "/" for 127.0.0.1 at 2023-05-01 13:55:35 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.7ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 43.2ms | Allocations: 10435)
  [1m[36mLineItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:9:in `total_cart_items'
  [1m[36mCACHE LineItem Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:3:in `cart_count_over_one'
  [1m[36mCACHE LineItem Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:4:in `cart_count_over_one'
  Rendered layout layouts/application.html.erb (Duration: 64.5ms | Allocations: 19295)
Completed 200 OK in 74ms (Views: 64.5ms | ActiveRecord: 3.0ms | Allocations: 20799)


Started GET "/instruments/4" for 127.0.0.1 at 2023-05-01 13:55:39 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 14.1ms | Allocations: 2637)
  [1m[36mLineItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:9:in `total_cart_items'
  [1m[36mCACHE LineItem Count (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:3:in `cart_count_over_one'
  [1m[36mCACHE LineItem Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:4:in `cart_count_over_one'
  Rendered layout layouts/application.html.erb (Duration: 42.0ms | Allocations: 11417)
Completed 200 OK in 84ms (Views: 43.1ms | ActiveRecord: 1.7ms | Allocations: 13479)


Started POST "/line_items?instrument_id=4" for 127.0.0.1 at 2023-05-01 13:55:41 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 4], ["instrument_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.6ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 4], ["cart_id", 4], ["created_at", "2023-05-01 06:55:41.166268"], ["updated_at", "2023-05-01 06:55:41.166268"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (4.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 43ms (ActiveRecord: 7.9ms | Allocations: 9335)


Started GET "/carts/4" for 127.0.0.1 at 2023-05-01 13:55:41 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 13.4ms | Allocations: 2173)
  Rendered carts/show.html.erb within layouts/application (Duration: 19.8ms | Allocations: 3380)
  [1m[36mLineItem Count (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:9:in `total_cart_items'
  [1m[36mCACHE LineItem Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:3:in `cart_count_over_one'
  [1m[36mCACHE LineItem Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:4:in `cart_count_over_one'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 45.3ms | Allocations: 12839)
Completed 200 OK in 52ms (Views: 44.5ms | ActiveRecord: 2.8ms | Allocations: 13767)


Started DELETE "/line_items/6" for 127.0.0.1 at 2023-05-01 13:55:59 +0700
Processing by LineItemsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"6"}
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:71:in `set_line_item'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:60:in `destroy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:61:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/line_items_controller.rb:61:in `destroy'
  [1m[36mTRANSACTION (6.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:61:in `destroy'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 26ms (ActiveRecord: 8.3ms | Allocations: 5707)


Started GET "/carts/4" for 127.0.0.1 at 2023-05-01 13:55:59 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.9ms | Allocations: 1114)
  Rendered carts/show.html.erb within layouts/application (Duration: 11.4ms | Allocations: 2298)
  [1m[36mLineItem Count (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:9:in `total_cart_items'
  [1m[36mCACHE LineItem Count (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:3:in `cart_count_over_one'
  [1m[36mCACHE LineItem Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/helpers/application_helper.rb:4:in `cart_count_over_one'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 37.6ms | Allocations: 11751)
Completed 200 OK in 43ms (Views: 36.8ms | ActiveRecord: 2.4ms | Allocations: 12640)


Started DELETE "/carts/4" for 127.0.0.1 at 2023-05-01 13:56:14 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (1.9ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (9.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 37ms (ActiveRecord: 12.2ms | Allocations: 6736)


Started GET "/" for 127.0.0.1 at 2023-05-01 13:56:14 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-01 06:56:14.056965"], ["updated_at", "2023-05-01 06:56:14.056965"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.6ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 59.8ms | Allocations: 9000)
  [1m[36mLineItem Count (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/helpers/application_helper.rb:9:in `total_cart_items'
  Rendered layout layouts/application.html.erb (Duration: 81.9ms | Allocations: 16585)
Completed 200 OK in 105ms (Views: 81.3ms | ActiveRecord: 9.0ms | Allocations: 21590)


Started GET "/" for 127.0.0.1 at 2023-05-01 13:58:27 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 64.9ms | Allocations: 15666)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 95.3ms | Allocations: 25871)
Completed 200 OK in 123ms (Views: 93.1ms | ActiveRecord: 6.5ms | Allocations: 32394)


Started GET "/instruments/7" for 127.0.0.1 at 2023-05-01 13:58:28 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.7ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 12.0ms | Allocations: 1973)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 39.2ms | Allocations: 9490)
Completed 200 OK in 52ms (Views: 39.5ms | ActiveRecord: 2.5ms | Allocations: 11535)


Started POST "/line_items?instrument_id=7" for 127.0.0.1 at 2023-05-01 13:58:29 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"7"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 5], ["instrument_id", 7], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 7], ["cart_id", 5], ["created_at", "2023-05-01 06:58:29.792187"], ["updated_at", "2023-05-01 06:58:29.792187"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (10.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/5
Completed 302 Found in 52ms (ActiveRecord: 13.1ms | Allocations: 10779)


Started GET "/carts/5" for 127.0.0.1 at 2023-05-01 13:58:29 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.9ms | Allocations: 1172)
  Rendered carts/show.html.erb within layouts/application (Duration: 12.7ms | Allocations: 2466)
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 29.1ms | Allocations: 10230)
Completed 200 OK in 39ms (Views: 32.7ms | ActiveRecord: 1.7ms | Allocations: 11493)


Started GET "/" for 127.0.0.1 at 2023-05-01 13:58:33 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.9ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 56.9ms | Allocations: 8433)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 73.9ms | Allocations: 16028)
Completed 200 OK in 81ms (Views: 73.4ms | ActiveRecord: 3.1ms | Allocations: 16950)


Started GET "/instruments/5" for 127.0.0.1 at 2023-05-01 13:58:34 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 9.9ms | Allocations: 1934)
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 33.7ms | Allocations: 9515)
Completed 200 OK in 42ms (Views: 33.9ms | ActiveRecord: 1.8ms | Allocations: 10949)


Started POST "/line_items?instrument_id=5" for 127.0.0.1 at 2023-05-01 13:58:35 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"5"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 5], ["instrument_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.6ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 5], ["cart_id", 5], ["created_at", "2023-05-01 06:58:35.241556"], ["updated_at", "2023-05-01 06:58:35.241556"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (26.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/5
Completed 302 Found in 66ms (ActiveRecord: 29.4ms | Allocations: 7176)


Started GET "/carts/5" for 127.0.0.1 at 2023-05-01 13:58:35 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 12.2ms | Allocations: 2169)
  Rendered carts/show.html.erb within layouts/application (Duration: 28.9ms | Allocations: 3376)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 47.1ms | Allocations: 11065)
Completed 200 OK in 52ms (Views: 47.5ms | ActiveRecord: 1.3ms | Allocations: 12012)


Started DELETE "/carts/5" for 127.0.0.1 at 2023-05-01 13:58:39 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 8]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 42ms (ActiveRecord: 12.0ms | Allocations: 7500)


Started GET "/" for 127.0.0.1 at 2023-05-01 13:58:39 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-01 06:58:39.864713"], ["updated_at", "2023-05-01 06:58:39.864713"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.6ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 44.4ms | Allocations: 9001)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 63.8ms | Allocations: 16541)
Completed 200 OK in 87ms (Views: 63.3ms | ActiveRecord: 9.9ms | Allocations: 21532)


Started GET "/" for ::1 at 2023-05-17 00:18:19 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (2.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-16 17:18:19.926715"], ["updated_at", "2023-05-16 17:18:19.926715"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (5.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 477.1ms | Allocations: 63021)
Started GET "/" for ::1 at 2023-05-17 00:18:25 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-16 17:18:25.691673"], ["updated_at", "2023-05-16 17:18:25.691673"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (5.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (1.0ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 57.1ms | Allocations: 8192)
  Rendered layout layouts/application.html.erb (Duration: 6028.4ms | Allocations: 2280251)
Completed 500 Internal Server Error in 6456ms (ActiveRecord: 14.6ms | Allocations: 2301889)


  
ActionView::Template::Error (Permission denied @ rb_file_s_rename - (D:/Ruby32-x64/flanger/tmp/cache/assets/sprockets/v3.0/79/79U609aPdkicSfIZulBXfe2yim5oN7gEwiBDB7L6FuU.cache.17300.9524.839514, D:/Ruby32-x64/flanger/tmp/cache/assets/sprockets/v3.0/79/79U609aPdkicSfIZulBXfe2yim5oN7gEwiBDB7L6FuU.cache)):
     6: 
     7:     <meta name="viewport" content="width=device-width, initial-scale=1">
     8:     <%= stylesheet_link_tag 'https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' %>
     9:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application' %>
    11:   </head>
    12: 
  
app/views/layouts/application.html.erb:9
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 2887.6ms | Allocations: 647781)
Completed 200 OK in 2918ms (Views: 2887.1ms | ActiveRecord: 12.7ms | Allocations: 650732)


Started GET "/instruments/7" for ::1 at 2023-05-17 00:18:33 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  Rendered instruments/show.html.erb within layouts/application (Duration: 18.2ms | Allocations: 1931)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 43.6ms | Allocations: 10604)
Completed 200 OK in 52ms (Views: 44.0ms | ActiveRecord: 1.3ms | Allocations: 13323)


Started POST "/line_items?instrument_id=7" for ::1 at 2023-05-17 00:18:37 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"7"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 8], ["instrument_id", 7], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.1ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 7], ["cart_id", 8], ["created_at", "2023-05-16 17:18:37.264690"], ["updated_at", "2023-05-16 17:18:37.264690"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/8
Completed 302 Found in 36ms (ActiveRecord: 6.6ms | Allocations: 10709)


Started GET "/carts/8" for ::1 at 2023-05-17 00:18:37 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.4ms | Allocations: 1419)
  Rendered carts/show.html.erb within layouts/application (Duration: 14.5ms | Allocations: 3054)
  Rendered layout layouts/application.html.erb (Duration: 40.9ms | Allocations: 11262)
Completed 200 OK in 52ms (Views: 46.9ms | ActiveRecord: 0.9ms | Allocations: 12672)


Started GET "/instruments" for ::1 at 2023-05-17 00:18:39 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 28.8ms | Allocations: 7604)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 58.5ms | Allocations: 16355)
Completed 200 OK in 63ms (Views: 57.8ms | ActiveRecord: 2.0ms | Allocations: 17302)


Started GET "/instruments/5" for ::1 at 2023-05-17 00:18:41 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  Rendered instruments/show.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1219)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 32.0ms | Allocations: 9954)
Completed 200 OK in 38ms (Views: 33.0ms | ActiveRecord: 1.1ms | Allocations: 11347)


Started POST "/line_items?instrument_id=5" for ::1 at 2023-05-17 00:18:42 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 8], ["instrument_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.2ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 5], ["cart_id", 8], ["created_at", "2023-05-16 17:18:42.398207"], ["updated_at", "2023-05-16 17:18:42.398207"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/8
Completed 302 Found in 24ms (ActiveRecord: 5.7ms | Allocations: 4954)


Started GET "/carts/8" for ::1 at 2023-05-17 00:18:42 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.9ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.9ms | Allocations: 2138)
  Rendered carts/show.html.erb within layouts/application (Duration: 12.7ms | Allocations: 3329)
  Rendered layout layouts/application.html.erb (Duration: 38.9ms | Allocations: 11459)
Completed 200 OK in 43ms (Views: 38.5ms | ActiveRecord: 1.8ms | Allocations: 12395)


Started DELETE "/carts/8" for ::1 at 2023-05-17 00:18:45 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"8"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (1.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 9]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 10]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 8]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (3.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 40ms (ActiveRecord: 5.8ms | Allocations: 4965)


Started GET "/" for ::1 at 2023-05-17 00:18:46 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (2.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-16 17:18:46.026053"], ["updated_at", "2023-05-16 17:18:46.026053"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (2.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 36.0ms | Allocations: 7603)
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 69.9ms | Allocations: 16291)
Completed 200 OK in 86ms (Views: 69.1ms | ActiveRecord: 7.7ms | Allocations: 18986)


Started GET "/users/sign_in" for ::1 at 2023-05-17 00:18:51 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 7.8ms | Allocations: 718)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 460.1ms | Allocations: 23921)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 492.1ms | Allocations: 32703)
Completed 200 OK in 511ms (Views: 501.5ms | ActiveRecord: 0.7ms | Allocations: 35022)


Started POST "/users/sign_in" for ::1 at 2023-05-17 00:18:55 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan"], ["LIMIT", 1]]
Completed 401 Unauthorized in 14ms (ActiveRecord: 0.9ms | Allocations: 2487)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3450)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 34.8ms | Allocations: 12118)
Completed 200 OK in 285ms (Views: 35.8ms | ActiveRecord: 0.3ms | Allocations: 15418)


Started GET "/users/sign_up" for ::1 at 2023-05-17 00:18:59 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.8ms | Allocations: 364)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 15.8ms | Allocations: 5501)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 42.3ms | Allocations: 14790)
Completed 200 OK in 57ms (Views: 52.8ms | ActiveRecord: 0.6ms | Allocations: 16596)


Started POST "/users" for ::1 at 2023-05-17 00:19:09 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"quan", "email"=>"anhquanphamduc75@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "anhquanphamduc75@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 6.7ms | Allocations: 4822)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 33.9ms | Allocations: 13520)
Completed 422 Unprocessable Entity in 267ms (Views: 35.3ms | ActiveRecord: 1.1ms | Allocations: 48034)


Started POST "/users" for ::1 at 2023-05-17 00:19:16 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"quan", "email"=>"anhquanphamduc75@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "anhquanphamduc75@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (2.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "anhquanphamduc75@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-16 17:19:16.964913"], ["updated_at", "2023-05-16 17:19:16.964913"], ["name", "quan"]]
  [1m[36mTRANSACTION (2.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 303 See Other in 225ms (ActiveRecord: 6.3ms | Allocations: 15339)


Started GET "/" for ::1 at 2023-05-17 00:19:16 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 36.6ms | Allocations: 10593)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 68.6ms | Allocations: 25394)
Completed 200 OK in 74ms (Views: 68.3ms | ActiveRecord: 2.4ms | Allocations: 26587)


Started GET "/instruments/new" for ::1 at 2023-05-17 00:19:22 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 155.5ms | Allocations: 24617)
  Rendered instruments/new.html.erb within layouts/application (Duration: 159.4ms | Allocations: 24916)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 182.3ms | Allocations: 33669)
Completed 200 OK in 193ms (Views: 183.4ms | ActiveRecord: 0.8ms | Allocations: 36465)


Started POST "/instruments" for ::1 at 2023-05-17 00:19:44 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"dan ban", "price"=>"11111", "model"=>"111", "description"=>"1111", "brand"=>"Taylor", "finish"=>"White", "condition"=>"Mint", "image"=>#<ActionDispatch::Http::UploadedFile:0x000001ee903dd620 @tempfile=#<Tempfile:C:/Users/anhqu/AppData/Local/Temp/RackMultipart20230517-9524-d5khzw.jpg>, @original_filename="345873273_672009064936021_7677617750681762077_n.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"345873273_672009064936021_7677617750681762077_n.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 8.2ms | Allocations: 6688)
  Rendered instruments/new.html.erb within layouts/application (Duration: 8.9ms | Allocations: 6757)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 42.4ms | Allocations: 15505)
Completed 422 Unprocessable Entity in 126ms (Views: 43.6ms | ActiveRecord: 1.0ms | Allocations: 46111)


Started POST "/instruments" for ::1 at 2023-05-17 00:19:54 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"dan ban", "price"=>"11111", "model"=>"111", "description"=>"1111", "brand"=>"Taylor", "finish"=>"White", "condition"=>"Mint", "image"=>#<ActionDispatch::Http::UploadedFile:0x000001ee92a66148 @tempfile=#<Tempfile:C:/Users/anhqu/AppData/Local/Temp/RackMultipart20230517-9524-fttl15.jpg>, @original_filename="hinh-nen-may-tinh-4k-game-min.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"hinh-nen-may-tinh-4k-game-min.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 6.9ms | Allocations: 6658)
  Rendered instruments/new.html.erb within layouts/application (Duration: 7.5ms | Allocations: 6727)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 36.7ms | Allocations: 15475)
Completed 422 Unprocessable Entity in 93ms (Views: 37.5ms | ActiveRecord: 1.7ms | Allocations: 24578)


Started POST "/instruments" for ::1 at 2023-05-17 00:21:22 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"dan ban", "price"=>"11111", "model"=>"111", "description"=>"1111", "brand"=>"Taylor", "finish"=>"White", "condition"=>"Mint", "image"=>#<ActionDispatch::Http::UploadedFile:0x000001ee90b83168 @tempfile=#<Tempfile:C:/Users/anhqu/AppData/Local/Temp/RackMultipart20230517-9524-ir7i0s.jpg>, @original_filename="instrument1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"instrument1.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 9.4ms | Allocations: 6669)
  Rendered instruments/new.html.erb within layouts/application (Duration: 10.3ms | Allocations: 6738)
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 43.5ms | Allocations: 15486)
Completed 422 Unprocessable Entity in 120ms (Views: 45.6ms | ActiveRecord: 1.4ms | Allocations: 24609)


Started GET "/users/edit" for ::1 at 2023-05-17 00:21:27 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 8.5ms | Allocations: 4974)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 39.8ms | Allocations: 13739)
Completed 200 OK in 53ms (Views: 44.5ms | ActiveRecord: 1.0ms | Allocations: 15974)


Started GET "/instruments/new" for ::1 at 2023-05-17 00:21:30 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 6.6ms | Allocations: 6686)
  Rendered instruments/new.html.erb within layouts/application (Duration: 7.5ms | Allocations: 6755)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 39.8ms | Allocations: 15509)
Completed 200 OK in 50ms (Views: 41.5ms | ActiveRecord: 0.9ms | Allocations: 17730)


Started GET "/" for ::1 at 2023-05-17 00:21:31 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 38.9ms | Allocations: 8181)
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 68.4ms | Allocations: 16938)
Completed 200 OK in 73ms (Views: 67.0ms | ActiveRecord: 2.8ms | Allocations: 17872)


Started GET "/instruments/6" for ::1 at 2023-05-17 00:21:36 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.6ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 10.2ms | Allocations: 2432)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 58.3ms | Allocations: 19090)
Completed 200 OK in 69ms (Views: 58.9ms | ActiveRecord: 2.1ms | Allocations: 20929)


Started POST "/line_items?instrument_id=6" for ::1 at 2023-05-17 00:21:39 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"6"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.7ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 9], ["instrument_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (3.1ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 6], ["cart_id", 9], ["created_at", "2023-05-16 17:21:39.048318"], ["updated_at", "2023-05-16 17:21:39.048318"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/9
Completed 302 Found in 29ms (ActiveRecord: 8.6ms | Allocations: 5234)


Started GET "/carts/9" for ::1 at 2023-05-17 00:21:39 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.8ms | Allocations: 1101)
  Rendered carts/show.html.erb within layouts/application (Duration: 11.2ms | Allocations: 2269)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 42.7ms | Allocations: 11183)
Completed 200 OK in 50ms (Views: 43.5ms | ActiveRecord: 1.8ms | Allocations: 12102)


Started DELETE "/carts/9" for ::1 at 2023-05-17 00:21:42 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"9"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (1.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 11]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.5ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 9]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 30ms (ActiveRecord: 6.6ms | Allocations: 4003)


Started GET "/" for ::1 at 2023-05-17 00:21:42 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-16 17:21:42.439174"], ["updated_at", "2023-05-16 17:21:42.439174"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (2.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.6ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 56.8ms | Allocations: 8181)
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 101.4ms | Allocations: 16944)
Completed 200 OK in 121ms (Views: 101.0ms | ActiveRecord: 7.8ms | Allocations: 19659)


Started GET "/instruments/new" for ::1 at 2023-05-17 00:21:43 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 9.1ms | Allocations: 6688)
  Rendered instruments/new.html.erb within layouts/application (Duration: 10.3ms | Allocations: 6757)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 41.7ms | Allocations: 15511)
Completed 200 OK in 51ms (Views: 43.2ms | ActiveRecord: 0.9ms | Allocations: 17735)


Started POST "/instruments" for ::1 at 2023-05-17 00:21:46 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"", "price"=>"", "model"=>"", "description"=>"", "brand"=>"", "finish"=>"", "condition"=>""}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 11.4ms | Allocations: 9304)
  Rendered instruments/new.html.erb within layouts/application (Duration: 13.0ms | Allocations: 9400)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 66.2ms | Allocations: 37390)
Completed 422 Unprocessable Entity in 83ms (Views: 67.6ms | ActiveRecord: 1.7ms | Allocations: 40845)


Started POST "/instruments" for ::1 at 2023-05-17 00:21:59 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"dan ban", "price"=>"222", "model"=>"222", "description"=>"222", "brand"=>"Charvel", "finish"=>"White", "condition"=>"Excellent", "image"=>#<ActionDispatch::Http::UploadedFile:0x000001ee929f1eb0 @tempfile=#<Tempfile:C:/Users/anhqu/AppData/Local/Temp/RackMultipart20230517-9524-r5hf11.jpg>, @original_filename="instrument2.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"instrument2.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 7.6ms | Allocations: 6669)
  Rendered instruments/new.html.erb within layouts/application (Duration: 8.7ms | Allocations: 6763)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 45.4ms | Allocations: 22421)
Completed 422 Unprocessable Entity in 113ms (Views: 47.0ms | ActiveRecord: 1.2ms | Allocations: 33058)


Started GET "/instruments" for ::1 at 2023-05-17 00:23:24 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 55.1ms | Allocations: 16088)
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 102.7ms | Allocations: 27539)
Completed 200 OK in 181ms (Views: 100.8ms | ActiveRecord: 8.6ms | Allocations: 44986)


Started DELETE "/users/sign_out" for ::1 at 2023-05-17 00:24:32 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
Redirected to http://localhost:3000/
Completed 303 See Other in 52ms (ActiveRecord: 0.8ms | Allocations: 3326)


Started GET "/" for ::1 at 2023-05-17 00:24:32 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (2.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-16 17:24:32.488485"], ["updated_at", "2023-05-16 17:24:32.488485"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (4.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.9ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 45.3ms | Allocations: 7618)
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 90.8ms | Allocations: 16317)
Completed 200 OK in 114ms (Views: 90.7ms | ActiveRecord: 9.6ms | Allocations: 19185)


Started GET "/users/sign_up" for ::1 at 2023-05-17 00:24:34 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 99)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 4225)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 35.0ms | Allocations: 13009)
Completed 200 OK in 42ms (Views: 37.9ms | ActiveRecord: 0.6ms | Allocations: 14499)


Started GET "/users/sign_in" for ::1 at 2023-05-17 00:24:37 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 155)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3551)
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 43.8ms | Allocations: 16462)
Completed 200 OK in 52ms (Views: 46.9ms | ActiveRecord: 0.8ms | Allocations: 17836)


Started POST "/users/sign_in" for ::1 at 2023-05-17 00:24:39 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 220ms (ActiveRecord: 1.0ms | Allocations: 2846)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3444)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 36.6ms | Allocations: 12105)
Completed 200 OK in 258ms (Views: 37.7ms | ActiveRecord: 0.3ms | Allocations: 13067)


Started POST "/users/sign_in" for ::1 at 2023-05-17 00:24:46 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 303 See Other in 219ms (ActiveRecord: 1.3ms | Allocations: 2881)


Started GET "/" for ::1 at 2023-05-17 00:24:46 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 42.8ms | Allocations: 9204)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 75.6ms | Allocations: 18474)
Completed 200 OK in 81ms (Views: 74.8ms | ActiveRecord: 2.8ms | Allocations: 19420)


Started GET "/instruments/new" for ::1 at 2023-05-17 00:24:57 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 8.9ms | Allocations: 6977)
  Rendered instruments/new.html.erb within layouts/application (Duration: 10.4ms | Allocations: 7049)
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 44.8ms | Allocations: 15803)
Completed 200 OK in 56ms (Views: 45.4ms | ActiveRecord: 2.0ms | Allocations: 18579)


Started POST "/instruments" for ::1 at 2023-05-17 00:25:16 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"thang cong", "price"=>"1111", "model"=>"11", "description"=>"11", "brand"=>"Ibanez", "finish"=>"White", "condition"=>"Excellent", "image"=>#<ActionDispatch::Http::UploadedFile:0x000001ee8f374428 @tempfile=#<Tempfile:C:/Users/anhqu/AppData/Local/Temp/RackMultipart20230517-9524-fndoi8.jpg>, @original_filename="instrument6.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"instrument6.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 8.8ms | Allocations: 6680)
  Rendered instruments/new.html.erb within layouts/application (Duration: 9.6ms | Allocations: 6749)
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 47.7ms | Allocations: 15497)
Completed 422 Unprocessable Entity in 132ms (Views: 50.1ms | ActiveRecord: 1.0ms | Allocations: 44796)


Started GET "/" for ::1 at 2023-05-18 14:50:50 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (4.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-18 07:50:52.308958"], ["updated_at", "2023-05-18 07:50:52.308958"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (2.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 882.7ms | Allocations: 66895)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 4575.4ms | Allocations: 541399)
Completed 200 OK in 5704ms (Views: 4652.9ms | ActiveRecord: 19.9ms | Allocations: 601917)


Started GET "/users/sign_up" for ::1 at 2023-05-18 14:51:05 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 6.2ms | Allocations: 1250)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1835.9ms | Allocations: 93424)
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 1911.2ms | Allocations: 111412)
Completed 200 OK in 1953ms (Views: 1941.2ms | ActiveRecord: 1.4ms | Allocations: 114002)


Started POST "/users" for ::1 at 2023-05-18 14:51:20 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"an ", "email"=>"an@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "an@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (4.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "an@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-18 07:51:21.180702"], ["updated_at", "2023-05-18 07:51:21.180702"], ["name", "an "]]
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 303 See Other in 505ms (ActiveRecord: 9.4ms | Allocations: 37677)


Started GET "/" for ::1 at 2023-05-18 14:51:21 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (1.1ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 70.8ms | Allocations: 8341)
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 119.4ms | Allocations: 17246)
Completed 200 OK in 131ms (Views: 120.3ms | ActiveRecord: 4.6ms | Allocations: 18204)


Started GET "/instruments/new" for ::1 at 2023-05-18 14:51:29 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 305.5ms | Allocations: 24308)
  Rendered instruments/new.html.erb within layouts/application (Duration: 349.8ms | Allocations: 24610)
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 410.3ms | Allocations: 35517)
Completed 200 OK in 435ms (Views: 415.6ms | ActiveRecord: 1.9ms | Allocations: 38401)


Started GET "/users/edit" for ::1 at 2023-05-18 14:51:34 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 20.6ms | Allocations: 4982)
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 86.9ms | Allocations: 16004)
Completed 200 OK in 105ms (Views: 93.1ms | ActiveRecord: 1.5ms | Allocations: 18373)


Started GET "/users/edit" for ::1 at 2023-05-18 14:51:36 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 9.1ms | Allocations: 4404)
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 60.9ms | Allocations: 13157)
Completed 200 OK in 95ms (Views: 80.8ms | ActiveRecord: 2.1ms | Allocations: 15271)


Started GET "/" for ::1 at 2023-05-18 14:51:38 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 93.5ms | Allocations: 14124)
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 183.0ms | Allocations: 37897)
Completed 200 OK in 198ms (Views: 186.1ms | ActiveRecord: 3.5ms | Allocations: 39156)


Started GET "/" for ::1 at 2023-05-22 09:19:06 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (2.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-22 02:19:07.433917"], ["updated_at", "2023-05-22 02:19:07.433917"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (2.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (1.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 577.9ms | Allocations: 53054)
Started GET "/" for ::1 at 2023-05-22 09:19:09 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-22 02:19:09.029107"], ["updated_at", "2023-05-22 02:19:09.029107"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (2.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 34.2ms | Allocations: 7703)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 1792.6ms | Allocations: 145129)
Completed 200 OK in 1810ms (Views: 1791.5ms | ActiveRecord: 7.0ms | Allocations: 147998)


  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 2931.8ms | Allocations: 516843)
Completed 200 OK in 3704ms (Views: 3010.6ms | ActiveRecord: 16.0ms | Allocations: 554155)


Started GET "/users/sign_in" for ::1 at 2023-05-22 09:19:19 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 115.3ms | Allocations: 5173)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 1029.9ms | Allocations: 53799)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 1063.2ms | Allocations: 62713)
Completed 200 OK in 1101ms (Views: 1072.8ms | ActiveRecord: 0.7ms | Allocations: 65675)


Started POST "/users/sign_in" for ::1 at 2023-05-22 09:19:27 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan"], ["LIMIT", 1]]
Completed 401 Unauthorized in 40ms (ActiveRecord: 0.9ms | Allocations: 4954)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 3464)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 37.9ms | Allocations: 18252)
Completed 200 OK in 374ms (Views: 39.9ms | ActiveRecord: 0.3ms | Allocations: 41213)


Started POST "/users/sign_in" for ::1 at 2023-05-22 09:19:31 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan"], ["LIMIT", 1]]
Completed 401 Unauthorized in 9ms (ActiveRecord: 0.9ms | Allocations: 2309)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 3447)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 37.8ms | Allocations: 12232)
Completed 200 OK in 249ms (Views: 39.3ms | ActiveRecord: 0.3ms | Allocations: 31158)


Started POST "/users/sign_in" for ::1 at 2023-05-22 09:19:33 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
Completed 401 Unauthorized in 4ms (ActiveRecord: 0.4ms | Allocations: 812)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 3445)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 33.1ms | Allocations: 12108)
Completed 200 OK in 37ms (Views: 33.7ms | ActiveRecord: 0.4ms | Allocations: 13007)


Started POST "/users/sign_in" for ::1 at 2023-05-22 09:19:39 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 211ms (ActiveRecord: 0.6ms | Allocations: 1963)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 3447)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 43.3ms | Allocations: 18638)
Completed 200 OK in 253ms (Views: 44.2ms | ActiveRecord: 0.3ms | Allocations: 30440)


Started POST "/users/sign_in" for ::1 at 2023-05-22 09:19:41 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 207ms (ActiveRecord: 1.0ms | Allocations: 12793)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 3447)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 27.8ms | Allocations: 12159)
Completed 200 OK in 236ms (Views: 29.8ms | ActiveRecord: 0.2ms | Allocations: 23176)


Started POST "/users/sign_in" for ::1 at 2023-05-22 09:19:45 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 212ms (ActiveRecord: 0.6ms | Allocations: 20845)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 3446)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 54.7ms | Allocations: 30607)
Completed 200 OK in 269ms (Views: 56.3ms | ActiveRecord: 0.3ms | Allocations: 33599)


Started GET "/users/sign_in" for ::1 at 2023-05-22 09:19:49 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 3445)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 32.2ms | Allocations: 12143)
Completed 200 OK in 37ms (Views: 33.0ms | ActiveRecord: 0.6ms | Allocations: 13258)


Started POST "/users/sign_in" for ::1 at 2023-05-22 09:19:55 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 212ms (ActiveRecord: 0.7ms | Allocations: 1939)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 3447)
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 29.5ms | Allocations: 12228)
Completed 200 OK in 237ms (Views: 30.6ms | ActiveRecord: 0.8ms | Allocations: 13978)


Started GET "/users/password/new" for ::1 at 2023-05-22 09:19:57 +0700
Processing by Devise::PasswordsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/passwords/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 209)
  Rendered devise/passwords/new.html.erb within layouts/application (Duration: 61.7ms | Allocations: 2327)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 89.4ms | Allocations: 11108)
Completed 200 OK in 103ms (Views: 96.9ms | ActiveRecord: 0.6ms | Allocations: 12637)


Started GET "/users/sign_up" for ::1 at 2023-05-22 09:20:01 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 96)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 62.8ms | Allocations: 4726)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 93.3ms | Allocations: 13632)
Completed 200 OK in 108ms (Views: 103.2ms | ActiveRecord: 0.7ms | Allocations: 15415)


Started POST "/users" for ::1 at 2023-05-22 09:20:11 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"quan", "email"=>"anhquanphamduc75@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "anhquanphamduc75@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 9.4ms | Allocations: 4815)
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 51.4ms | Allocations: 13635)
Completed 422 Unprocessable Entity in 321ms (Views: 52.5ms | ActiveRecord: 1.9ms | Allocations: 20224)


Started POST "/users" for ::1 at 2023-05-22 09:20:19 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"quan", "email"=>"anhquanphamduc75@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "anhquanphamduc75@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 4692)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 28.5ms | Allocations: 13511)
Completed 422 Unprocessable Entity in 248ms (Views: 29.2ms | ActiveRecord: 1.0ms | Allocations: 29002)


Started POST "/users" for ::1 at 2023-05-22 09:20:26 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"quan", "email"=>"anhquanphamduc75@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "anhquanphamduc75@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 8.1ms | Allocations: 4692)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 33.8ms | Allocations: 13511)
Completed 422 Unprocessable Entity in 254ms (Views: 34.9ms | ActiveRecord: 1.1ms | Allocations: 18924)


Started POST "/users" for ::1 at 2023-05-22 09:20:46 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"quan", "email"=>"anhquanphamduc75@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "anhquanphamduc75@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 7.1ms | Allocations: 4692)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 33.3ms | Allocations: 13511)
Completed 422 Unprocessable Entity in 240ms (Views: 34.1ms | ActiveRecord: 1.0ms | Allocations: 40853)


Started GET "/users/sign_in" for ::1 at 2023-05-22 09:20:48 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 3441)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 35.5ms | Allocations: 12136)
Completed 200 OK in 41ms (Views: 36.7ms | ActiveRecord: 0.5ms | Allocations: 13228)


Started GET "/" for ::1 at 2023-05-22 09:20:49 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 28.2ms | Allocations: 7605)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 58.9ms | Allocations: 16352)
Completed 200 OK in 63ms (Views: 58.6ms | ActiveRecord: 1.7ms | Allocations: 17276)


Started GET "/instruments/6" for ::1 at 2023-05-22 09:20:51 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  Rendered instruments/show.html.erb within layouts/application (Duration: 43.8ms | Allocations: 5181)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 72.1ms | Allocations: 17028)
Completed 200 OK in 80ms (Views: 72.6ms | ActiveRecord: 1.3ms | Allocations: 19155)


Started POST "/line_items?instrument_id=6" for ::1 at 2023-05-22 09:20:53 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"6"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 14], ["instrument_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.7ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 6], ["cart_id", 14], ["created_at", "2023-05-22 02:20:53.234848"], ["updated_at", "2023-05-22 02:20:53.234848"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (3.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/14
Completed 302 Found in 38ms (ActiveRecord: 6.9ms | Allocations: 11048)


Started GET "/carts/14" for ::1 at 2023-05-22 09:20:53 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 21.4ms | Allocations: 1477)
  Rendered carts/show.html.erb within layouts/application (Duration: 62.5ms | Allocations: 8979)
  Rendered layout layouts/application.html.erb (Duration: 100.5ms | Allocations: 18845)
Completed 200 OK in 111ms (Views: 106.8ms | ActiveRecord: 1.0ms | Allocations: 20781)


Started DELETE "/carts/14" for ::1 at 2023-05-22 09:21:00 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"14"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (3.8ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 12]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 14]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 26ms (ActiveRecord: 8.6ms | Allocations: 4182)


Started GET "/" for ::1 at 2023-05-22 09:21:00 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-22 02:21:00.352577"], ["updated_at", "2023-05-22 02:21:00.352577"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 43.3ms | Allocations: 8936)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 84.1ms | Allocations: 24465)
Completed 200 OK in 100ms (Views: 83.6ms | ActiveRecord: 7.7ms | Allocations: 27165)


Started GET "/" for ::1 at 2023-05-22 09:21:02 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 42.2ms | Allocations: 7911)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 75.3ms | Allocations: 18437)
Completed 200 OK in 79ms (Views: 74.5ms | ActiveRecord: 2.4ms | Allocations: 19380)


Started GET "/" for ::1 at 2023-05-22 09:22:26 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (2.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-22 02:22:26.770785"], ["updated_at", "2023-05-22 02:22:26.770785"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (1.0ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 168.8ms | Allocations: 25827)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 713.6ms | Allocations: 349876)
Completed 200 OK in 890ms (Views: 721.9ms | ActiveRecord: 12.7ms | Allocations: 381706)


Started GET "/users/sign_in" for ::1 at 2023-05-22 09:22:30 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 6.3ms | Allocations: 2433)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 165.2ms | Allocations: 32380)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 226.0ms | Allocations: 52752)
Completed 200 OK in 253ms (Views: 239.4ms | ActiveRecord: 1.0ms | Allocations: 55389)


Started POST "/users/sign_in" for ::1 at 2023-05-22 09:22:34 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"anhquanphamduc75@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "anhquanphamduc75@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 240ms (ActiveRecord: 1.5ms | Allocations: 3099)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"anhquanphamduc75@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3457)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 43.7ms | Allocations: 12366)
Completed 200 OK in 256ms (Views: 45.8ms | ActiveRecord: 0.4ms | Allocations: 44143)


Started POST "/users/sign_in" for ::1 at 2023-05-22 09:22:36 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"anhquanphamduc75@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "anhquanphamduc75@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 218ms (ActiveRecord: 0.9ms | Allocations: 11991)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"anhquanphamduc75@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 3446)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 52.7ms | Allocations: 12350)
Completed 200 OK in 266ms (Views: 55.1ms | ActiveRecord: 0.4ms | Allocations: 13285)


Started GET "/users/sign_up" for ::1 at 2023-05-22 09:22:41 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.8ms | Allocations: 156)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 23.3ms | Allocations: 5050)
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 97.8ms | Allocations: 24149)
Completed 200 OK in 126ms (Views: 118.8ms | ActiveRecord: 1.0ms | Allocations: 25979)


Started POST "/users" for ::1 at 2023-05-22 09:22:49 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"quan", "email"=>"anhquanphamduc75@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "anhquanphamduc75@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 12.2ms | Allocations: 4928)
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 95.9ms | Allocations: 36725)
Completed 422 Unprocessable Entity in 341ms (Views: 98.1ms | ActiveRecord: 2.0ms | Allocations: 51134)


Started GET "/" for ::1 at 2023-05-22 09:26:16 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (5.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 242.3ms | Allocations: 24467)
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 662.7ms | Allocations: 342085)
Completed 200 OK in 803ms (Views: 664.5ms | ActiveRecord: 17.8ms | Allocations: 356405)


Started GET "/users/sign_in" for ::1 at 2023-05-22 09:26:22 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.6ms | Allocations: 721)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 163.9ms | Allocations: 12990)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 271.3ms | Allocations: 21774)
Completed 200 OK in 302ms (Views: 286.8ms | ActiveRecord: 1.0ms | Allocations: 23816)


Started GET "/users/sign_up" for ::1 at 2023-05-22 09:26:24 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.8ms | Allocations: 156)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 20.2ms | Allocations: 5048)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 62.8ms | Allocations: 13956)
Completed 200 OK in 82ms (Views: 76.0ms | ActiveRecord: 0.8ms | Allocations: 15762)


Started POST "/users" for ::1 at 2023-05-22 09:26:31 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"quan", "email"=>"quan@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 8.9ms | Allocations: 4809)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 45.6ms | Allocations: 13509)
Completed 422 Unprocessable Entity in 306ms (Views: 50.4ms | ActiveRecord: 2.2ms | Allocations: 21064)


Started GET "/users/sign_in" for ::1 at 2023-05-22 09:26:34 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3442)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 36.4ms | Allocations: 12139)
Completed 200 OK in 45ms (Views: 37.9ms | ActiveRecord: 0.9ms | Allocations: 13240)


Started POST "/users/sign_in" for ::1 at 2023-05-22 09:26:37 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 219ms (ActiveRecord: 1.0ms | Allocations: 2300)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.4ms | Allocations: 3442)
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 49.3ms | Allocations: 12105)
Completed 200 OK in 261ms (Views: 50.5ms | ActiveRecord: 1.1ms | Allocations: 13056)


Started GET "/users/sign_in" for ::1 at 2023-05-22 09:27:54 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 3444)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 4611.3ms | Allocations: 1660556)
Completed 200 OK in 4621ms (Views: 4613.8ms | ActiveRecord: 0.8ms | Allocations: 1661660)


Started POST "/users/sign_in" for ::1 at 2023-05-22 09:28:09 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 211ms (ActiveRecord: 1.0ms | Allocations: 1940)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.1ms | Allocations: 3447)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 45.6ms | Allocations: 12109)
Completed 200 OK in 250ms (Views: 47.9ms | ActiveRecord: 0.3ms | Allocations: 13041)


Started POST "/users/sign_in" for ::1 at 2023-05-22 09:28:13 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 217ms (ActiveRecord: 1.2ms | Allocations: 1956)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.7ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3441)
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 50.9ms | Allocations: 12006)
Completed 200 OK in 258ms (Views: 53.3ms | ActiveRecord: 0.5ms | Allocations: 12936)


Started GET "/users/sign_in" for ::1 at 2023-05-22 09:28:22 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.5ms | Allocations: 3440)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 43.9ms | Allocations: 12040)
Completed 200 OK in 51ms (Views: 45.8ms | ActiveRecord: 0.7ms | Allocations: 13132)


Started POST "/users/sign_in" for ::1 at 2023-05-22 09:28:26 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 303 See Other in 223ms (ActiveRecord: 0.8ms | Allocations: 3027)


Started GET "/" for ::1 at 2023-05-22 09:28:26 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.6ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 60.7ms | Allocations: 8968)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 98.1ms | Allocations: 17660)
Completed 200 OK in 108ms (Views: 98.7ms | ActiveRecord: 3.6ms | Allocations: 18599)


Started GET "/instruments/new" for ::1 at 2023-05-22 09:28:37 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 268.5ms | Allocations: 24350)
  Rendered instruments/new.html.erb within layouts/application (Duration: 299.1ms | Allocations: 24650)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 336.0ms | Allocations: 33308)
Completed 200 OK in 349ms (Views: 337.9ms | ActiveRecord: 1.5ms | Allocations: 36201)


Started POST "/instruments" for ::1 at 2023-05-22 09:28:55 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"dan ban", "price"=>"200", "model"=>"123123", "description"=>"123123", "brand"=>"Charvel", "finish"=>"Yellow", "condition"=>"Excellent", "image"=>#<ActionDispatch::Http::UploadedFile:0x00000264cfe90b48 @tempfile=#<Tempfile:C:/Users/anhqu/AppData/Local/Temp/RackMultipart20230522-27688-4dul9.jpg>, @original_filename="Eiu.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"Eiu.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 9.1ms | Allocations: 6660)
  Rendered instruments/new.html.erb within layouts/application (Duration: 10.3ms | Allocations: 6729)
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 51.5ms | Allocations: 15381)
Completed 422 Unprocessable Entity in 146ms (Views: 53.4ms | ActiveRecord: 2.0ms | Allocations: 25604)


Started POST "/instruments" for ::1 at 2023-05-22 09:29:21 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"dan ban", "price"=>"200", "model"=>"123123", "description"=>"123123", "brand"=>"Charvel", "finish"=>"Yellow", "condition"=>"Excellent", "image"=>#<ActionDispatch::Http::UploadedFile:0x00000264cf5dd258 @tempfile=#<Tempfile:C:/Users/anhqu/AppData/Local/Temp/RackMultipart20230522-27688-3cke59.jpg>, @original_filename="instrument6.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"instrument6.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 16.5ms | Allocations: 6658)
  Rendered instruments/new.html.erb within layouts/application (Duration: 17.9ms | Allocations: 6727)
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 59.9ms | Allocations: 15390)
Completed 422 Unprocessable Entity in 146ms (Views: 61.7ms | ActiveRecord: 1.5ms | Allocations: 24827)


Started GET "/instruments" for ::1 at 2023-05-22 09:29:24 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (1.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 53.3ms | Allocations: 8901)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 91.2ms | Allocations: 17571)
Completed 200 OK in 100ms (Views: 91.0ms | ActiveRecord: 3.6ms | Allocations: 18515)


Started GET "/" for ::1 at 2023-05-22 21:41:04 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (2.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-22 14:41:05.617656"], ["updated_at", "2023-05-22 14:41:05.617656"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (9.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (1.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 770.9ms | Allocations: 25628)
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 5228.2ms | Allocations: 376100)
Completed 200 OK in 6037ms (Views: 5314.2ms | ActiveRecord: 29.9ms | Allocations: 392914)


Started GET "/users/sign_in" for ::1 at 2023-05-22 21:41:24 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 4.8ms | Allocations: 721)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 988.1ms | Allocations: 12957)
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 1029.2ms | Allocations: 21678)
Completed 200 OK in 1076ms (Views: 1040.1ms | ActiveRecord: 1.1ms | Allocations: 24375)


Started POST "/users/sign_in" for ::1 at 2023-05-22 21:41:29 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 331ms (ActiveRecord: 1.6ms | Allocations: 3172)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.5ms | Allocations: 3451)
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 41.6ms | Allocations: 12020)
Completed 200 OK in 248ms (Views: 43.0ms | ActiveRecord: 0.7ms | Allocations: 13030)


Started POST "/users/sign_in" for ::1 at 2023-05-22 21:41:37 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 232ms (ActiveRecord: 1.2ms | Allocations: 1998)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 8.9ms | Allocations: 3441)
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 47.5ms | Allocations: 12005)
Completed 200 OK in 261ms (Views: 49.8ms | ActiveRecord: 0.5ms | Allocations: 12935)


Started POST "/users/sign_in" for ::1 at 2023-05-22 21:41:53 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 216ms (ActiveRecord: 1.2ms | Allocations: 2017)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 94.1ms | Allocations: 3441)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 257.9ms | Allocations: 12046)
Completed 200 OK in 469ms (Views: 260.3ms | ActiveRecord: 0.3ms | Allocations: 12976)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_in" for ::1 at 2023-05-22 21:43:26 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 5.1ms | Allocations: 731)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 160.0ms | Allocations: 14741)
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 733.6ms | Allocations: 333288)
Completed 200 OK in 840ms (Views: 755.3ms | ActiveRecord: 6.0ms | Allocations: 348571)


Started POST "/users/sign_in" for ::1 at 2023-05-22 21:43:33 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 240ms (ActiveRecord: 1.0ms | Allocations: 3233)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 9.2ms | Allocations: 3443)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 94.1ms | Allocations: 12036)
Completed 200 OK in 303ms (Views: 96.2ms | ActiveRecord: 0.3ms | Allocations: 13053)


Started GET "/users/sign_up" for ::1 at 2023-05-22 21:43:38 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.6ms | Allocations: 156)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 60.5ms | Allocations: 5051)
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 116.7ms | Allocations: 13742)
Completed 200 OK in 142ms (Views: 135.0ms | ActiveRecord: 1.1ms | Allocations: 15626)


Started POST "/users" for ::1 at 2023-05-22 21:43:43 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"quan", "email"=>"quan@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mCart Load (1.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 17.2ms | Allocations: 4800)
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 65.1ms | Allocations: 13405)
Completed 422 Unprocessable Entity in 339ms (Views: 68.2ms | ActiveRecord: 3.6ms | Allocations: 20202)


Started POST "/users" for ::1 at 2023-05-22 21:43:46 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"quan", "email"=>"quan@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 13.6ms | Allocations: 5414)
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 55.4ms | Allocations: 14019)
Completed 422 Unprocessable Entity in 75ms (Views: 56.1ms | ActiveRecord: 2.5ms | Allocations: 19503)


Started GET "/users" for ::1 at 2023-05-22 21:43:53 +0700
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
Started GET "/" for ::1 at 2023-05-22 21:43:59 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (3.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-22 14:43:59.203826"], ["updated_at", "2023-05-22 14:43:59.203826"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (7.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.8ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 106.7ms | Allocations: 17516)
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 158.0ms | Allocations: 26224)
Completed 200 OK in 268ms (Views: 167.5ms | ActiveRecord: 16.2ms | Allocations: 35158)


Started GET "/users/sign_in" for ::1 at 2023-05-22 21:44:01 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 13.1ms | Allocations: 3450)
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 62.0ms | Allocations: 12050)
Completed 200 OK in 72ms (Views: 64.2ms | ActiveRecord: 1.0ms | Allocations: 13153)


Started POST "/users/sign_in" for ::1 at 2023-05-22 21:44:05 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 218ms (ActiveRecord: 1.2ms | Allocations: 1960)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.5ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 3441)
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 56.2ms | Allocations: 12005)
Completed 200 OK in 268ms (Views: 57.9ms | ActiveRecord: 0.7ms | Allocations: 12951)


Started GET "/users/sign_in" for ::1 at 2023-05-22 21:44:08 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.6ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 11.5ms | Allocations: 3440)
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 72.5ms | Allocations: 12070)
Completed 200 OK in 86ms (Views: 75.5ms | ActiveRecord: 1.6ms | Allocations: 13164)


Started GET "/users/sign_up" for ::1 at 2023-05-22 21:44:09 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 79)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 13.8ms | Allocations: 4023)
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 65.8ms | Allocations: 12636)
Completed 200 OK in 79ms (Views: 68.3ms | ActiveRecord: 1.4ms | Allocations: 13699)


Started GET "/users/sign_in" for ::1 at 2023-05-22 21:44:09 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 9.6ms | Allocations: 3441)
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 61.6ms | Allocations: 12041)
Completed 200 OK in 72ms (Views: 64.0ms | ActiveRecord: 1.8ms | Allocations: 13132)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
Started GET "/" for ::1 at 2023-05-23 22:19:25 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-23 15:19:26.170961"], ["updated_at", "2023-05-23 15:19:26.170961"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (3.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.6ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (1.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 376.0ms | Allocations: 30952)
Started GET "/" for ::1 at 2023-05-23 22:19:29 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-23 15:19:29.844819"], ["updated_at", "2023-05-23 15:19:29.844819"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (6.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (3.1ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 270.6ms | Allocations: 66277)
  Rendered layout layouts/application.html.erb (Duration: 7740.2ms | Allocations: 2842085)
Completed 500 Internal Server Error in 8047ms (ActiveRecord: 11.4ms | Allocations: 2863685)


  
ActionView::Template::Error (Permission denied @ rb_file_s_rename - (D:/Ruby32-x64/flanger/tmp/cache/assets/sprockets/v3.0/he/heWFpkC41J_u26VjKQ4ajysEI_GPMa8IODCG9DapZww.cache.17280.68316.81998, D:/Ruby32-x64/flanger/tmp/cache/assets/sprockets/v3.0/he/heWFpkC41J_u26VjKQ4ajysEI_GPMa8IODCG9DapZww.cache)):
     6: 
     7:     <meta name="viewport" content="width=device-width, initial-scale=1">
     8:     <%= stylesheet_link_tag 'https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css' %>
     9:     <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    10:     <%= javascript_include_tag 'application' %>
    11:   </head>
    12: 
  
app/views/layouts/application.html.erb:9
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 6680.6ms | Allocations: 2339609)
Completed 200 OK in 6835ms (Views: 6678.8ms | ActiveRecord: 15.7ms | Allocations: 2402518)


Started GET "/users/sign_in" for ::1 at 2023-05-23 22:19:42 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 4.5ms | Allocations: 718)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 376.7ms | Allocations: 22100)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 418.3ms | Allocations: 30886)
Completed 200 OK in 452ms (Views: 435.6ms | ActiveRecord: 0.8ms | Allocations: 33867)


Started GET "/users/sign_up" for ::1 at 2023-05-23 22:19:44 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.3ms | Allocations: 156)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 22.6ms | Allocations: 5222)
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 57.3ms | Allocations: 14007)
Completed 200 OK in 78ms (Views: 71.6ms | ActiveRecord: 1.7ms | Allocations: 15803)


Started POST "/users" for ::1 at 2023-05-23 22:19:56 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"quan", "email"=>"anhquan@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "anhquan@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (3.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "anhquan@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-23 15:19:57.020970"], ["updated_at", "2023-05-23 15:19:57.020970"], ["name", "quan"]]
  [1m[36mTRANSACTION (5.3ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 303 See Other in 314ms (ActiveRecord: 10.4ms | Allocations: 10188)


Started GET "/" for ::1 at 2023-05-23 22:19:57 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 64.7ms | Allocations: 8675)
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 105.8ms | Allocations: 17461)
Completed 200 OK in 115ms (Views: 104.3ms | ActiveRecord: 4.6ms | Allocations: 18419)


Started GET "/instruments/new" for ::1 at 2023-05-23 22:20:05 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 281.5ms | Allocations: 19586)
  Rendered instruments/new.html.erb within layouts/application (Duration: 320.1ms | Allocations: 19882)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 369.3ms | Allocations: 28636)
Completed 200 OK in 386ms (Views: 371.7ms | ActiveRecord: 1.2ms | Allocations: 31515)


Started POST "/instruments" for ::1 at 2023-05-23 22:20:31 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"thanh cong", "price"=>"200", "model"=>"123123", "description"=>"123123", "brand"=>"Charvel", "finish"=>"Satin", "condition"=>"New", "image"=>#<ActionDispatch::Http::UploadedFile:0x000001f0bf9a3bc8 @tempfile=#<Tempfile:C:/Users/anhqu/AppData/Local/Temp/RackMultipart20230523-68316-7pm2ob.jpg>, @original_filename="instrument3.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"instrument3.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 14.8ms | Allocations: 6698)
  Rendered instruments/new.html.erb within layouts/application (Duration: 16.4ms | Allocations: 6767)
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 59.3ms | Allocations: 15515)
Completed 422 Unprocessable Entity in 159ms (Views: 62.8ms | ActiveRecord: 2.2ms | Allocations: 25791)


Started POST "/instruments" for ::1 at 2023-05-23 22:20:48 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"thanh cong", "price"=>"200", "model"=>"123123", "description"=>"123123", "brand"=>"Charvel", "finish"=>"Satin", "condition"=>"New", "image"=>#<ActionDispatch::Http::UploadedFile:0x000001f0bda536b0 @tempfile=#<Tempfile:C:/Users/anhqu/AppData/Local/Temp/RackMultipart20230523-68316-b3kcrx.jpg>, @original_filename="instrument5.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"instrument5.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 7.2ms | Allocations: 6641)
  Rendered instruments/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 6710)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 39.2ms | Allocations: 15458)
Completed 422 Unprocessable Entity in 115ms (Views: 40.8ms | ActiveRecord: 1.6ms | Allocations: 24875)


Started GET "/" for ::1 at 2023-05-23 22:20:53 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (1.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 72.1ms | Allocations: 8208)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 116.3ms | Allocations: 17013)
Completed 200 OK in 123ms (Views: 115.8ms | ActiveRecord: 3.1ms | Allocations: 17973)


Started GET "/instruments/new" for ::1 at 2023-05-23 22:21:02 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 16.9ms | Allocations: 6677)
  Rendered instruments/new.html.erb within layouts/application (Duration: 18.0ms | Allocations: 6746)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 56.8ms | Allocations: 15500)
Completed 200 OK in 70ms (Views: 58.8ms | ActiveRecord: 1.6ms | Allocations: 17714)


Started POST "/instruments" for ::1 at 2023-05-23 22:21:18 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"324234", "price"=>"234234", "model"=>"234234", "description"=>"234234", "brand"=>"Ibanez", "finish"=>"Satin", "condition"=>"New", "image"=>#<ActionDispatch::Http::UploadedFile:0x000001f0bdb89ca0 @tempfile=#<Tempfile:C:/Users/anhqu/AppData/Local/Temp/RackMultipart20230523-68316-gdatte.jpg>, @original_filename="instrument1.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"instrument1.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 13.3ms | Allocations: 7420)
  Rendered instruments/new.html.erb within layouts/application (Duration: 14.5ms | Allocations: 7489)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 54.6ms | Allocations: 16237)
Completed 422 Unprocessable Entity in 148ms (Views: 56.9ms | ActiveRecord: 1.1ms | Allocations: 25695)


Started POST "/instruments" for ::1 at 2023-05-23 22:21:25 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"324234", "price"=>"234234", "model"=>"234234", "description"=>"234234", "brand"=>"Ibanez", "finish"=>"Satin", "condition"=>"New", "image"=>#<ActionDispatch::Http::UploadedFile:0x000001f0bf198668 @tempfile=#<Tempfile:C:/Users/anhqu/AppData/Local/Temp/RackMultipart20230523-68316-a28c0y.jpg>, @original_filename="instrument2.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"instrument2.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 12.0ms | Allocations: 7352)
  Rendered instruments/new.html.erb within layouts/application (Duration: 13.0ms | Allocations: 7421)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 53.8ms | Allocations: 16170)
Completed 422 Unprocessable Entity in 130ms (Views: 56.2ms | ActiveRecord: 1.3ms | Allocations: 25608)


Started POST "/instruments" for ::1 at 2023-05-23 22:21:32 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"324234", "price"=>"234234", "model"=>"234234", "description"=>"234234", "brand"=>"Ibanez", "finish"=>"Satin", "condition"=>"New", "image"=>#<ActionDispatch::Http::UploadedFile:0x000001f0c0815e68 @tempfile=#<Tempfile:C:/Users/anhqu/AppData/Local/Temp/RackMultipart20230523-68316-btaiw7.jpg>, @original_filename="instrument4.jpg", @content_type="image/jpeg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"instrument4.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at D:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 12.1ms | Allocations: 7351)
  Rendered instruments/new.html.erb within layouts/application (Duration: 13.6ms | Allocations: 7420)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 60.1ms | Allocations: 16168)
Completed 422 Unprocessable Entity in 147ms (Views: 62.1ms | ActiveRecord: 0.9ms | Allocations: 25617)


Started GET "/users/edit" for ::1 at 2023-05-23 22:21:36 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 12.4ms | Allocations: 4976)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 45.3ms | Allocations: 13741)
Completed 200 OK in 61ms (Views: 51.5ms | ActiveRecord: 1.5ms | Allocations: 16014)


Started PUT "/users" for ::1 at 2023-05-23 22:21:48 +0700
Processing by RegistrationsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"quan", "email"=>"anhquan@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Update"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 9.0ms | Allocations: 5954)
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 50.7ms | Allocations: 14708)
Completed 422 Unprocessable Entity in 500ms (Views: 53.2ms | ActiveRecord: 2.3ms | Allocations: 19624)


Started DELETE "/users/sign_out" for ::1 at 2023-05-23 22:21:58 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
Redirected to http://localhost:3000/
Completed 303 See Other in 163ms (ActiveRecord: 0.6ms | Allocations: 12124)


Started GET "/" for ::1 at 2023-05-23 22:21:58 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-23 15:21:58.541545"], ["updated_at", "2023-05-23 15:21:58.541545"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (4.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.6ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 43.0ms | Allocations: 7626)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 83.6ms | Allocations: 16519)
Completed 200 OK in 109ms (Views: 84.3ms | ActiveRecord: 7.6ms | Allocations: 19784)


Started GET "/users/sign_in" for ::1 at 2023-05-23 22:22:00 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3442)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 55.1ms | Allocations: 12138)
Completed 200 OK in 63ms (Views: 57.0ms | ActiveRecord: 0.7ms | Allocations: 13223)


Started POST "/users/sign_in" for ::1 at 2023-05-23 22:22:10 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"anhquan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "anhquan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 221ms (ActiveRecord: 1.3ms | Allocations: 2342)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"anhquan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 3442)
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 54.4ms | Allocations: 12104)
Completed 200 OK in 266ms (Views: 55.8ms | ActiveRecord: 1.0ms | Allocations: 13058)


Started POST "/users/sign_in" for ::1 at 2023-05-23 22:22:13 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"anhquan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "anhquan@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 303 See Other in 220ms (ActiveRecord: 0.9ms | Allocations: 2867)


Started GET "/" for ::1 at 2023-05-23 22:22:14 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (1.0ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 74.6ms | Allocations: 8209)
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 141.2ms | Allocations: 17019)
Completed 200 OK in 150ms (Views: 140.4ms | ActiveRecord: 4.0ms | Allocations: 17965)


Started GET "/users/edit" for ::1 at 2023-05-23 22:22:19 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 8.5ms | Allocations: 4402)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 57.5ms | Allocations: 13155)
Completed 200 OK in 69ms (Views: 59.0ms | ActiveRecord: 1.0ms | Allocations: 15272)


Started PUT "/users" for ::1 at 2023-05-23 22:22:27 +0700
Processing by RegistrationsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"quan", "email"=>"anhquan@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Update"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 21.5ms | Allocations: 5833)
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 74.8ms | Allocations: 14586)
Completed 422 Unprocessable Entity in 497ms (Views: 76.3ms | ActiveRecord: 2.3ms | Allocations: 18528)


Started PUT "/users" for ::1 at 2023-05-23 22:22:30 +0700
Processing by RegistrationsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"quan", "email"=>"anhquan@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Update"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 9.7ms | Allocations: 5165)
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 60.2ms | Allocations: 13918)
Completed 422 Unprocessable Entity in 284ms (Views: 61.6ms | ActiveRecord: 2.5ms | Allocations: 17722)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2023-05-30 18:48:29 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-30 11:48:30.021208"], ["updated_at", "2023-05-30 11:48:30.021208"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 221.8ms | Allocations: 27550)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 5459.8ms | Allocations: 2055376)
Completed 200 OK in 5771ms (Views: 5503.4ms | ActiveRecord: 9.1ms | Allocations: 2078250)


Started GET "/users/sign_in" for ::1 at 2023-05-30 18:48:40 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.3ms | Allocations: 721)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 379.2ms | Allocations: 21540)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 411.5ms | Allocations: 30413)
Completed 200 OK in 434ms (Views: 423.6ms | ActiveRecord: 0.4ms | Allocations: 33382)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "linh@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 3], ["email", "linh@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-30 11:49:39.086772"], ["updated_at", "2023-05-30 11:49:39.086772"], ["name", "linh"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "linh@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("id", "email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["id", 4], ["email", "linh@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-30 11:50:20.268688"], ["updated_at", "2023-05-30 11:50:20.268688"], ["name", "linh"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
Started GET "/users/sign_in" for ::1 at 2023-05-30 18:50:57 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.0ms | Allocations: 731)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 106.2ms | Allocations: 13424)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 4325.1ms | Allocations: 2011636)
Completed 200 OK in 4422ms (Views: 4365.9ms | ActiveRecord: 2.8ms | Allocations: 2028233)


Started GET "/" for ::1 at 2023-05-30 18:51:05 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 67.4ms | Allocations: 17325)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 108.6ms | Allocations: 25986)
Completed 200 OK in 153ms (Views: 113.2ms | ActiveRecord: 2.5ms | Allocations: 31420)


Started GET "/users/sign_up" for ::1 at 2023-05-30 18:51:12 +0700
Processing by RegistrationsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 1.2ms | Allocations: 156)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 19.0ms | Allocations: 5217)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 63.3ms | Allocations: 13906)
Completed 200 OK in 87ms (Views: 83.2ms | ActiveRecord: 0.5ms | Allocations: 15711)


Started POST "/users" for ::1 at 2023-05-30 18:51:25 +0700
Processing by RegistrationsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"linh", "email"=>"linh@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "linh@gmail.com"], ["LIMIT", 1]]
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "name") VALUES (?, ?, ?, ?, ?, ?, ?, ?)[0m  [["email", "linh@gmail.com"], ["encrypted_password", "[FILTERED]"], ["reset_password_token", "[FILTERED]"], ["reset_password_sent_at", "[FILTERED]"], ["remember_created_at", nil], ["created_at", "2023-05-30 11:51:26.009283"], ["updated_at", "2023-05-30 11:51:26.009283"], ["name", "linh"]]
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
Redirected to http://localhost:3000/
Completed 303 See Other in 297ms (ActiveRecord: 6.0ms | Allocations: 11255)


Started GET "/" for ::1 at 2023-05-30 18:51:26 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 33.0ms | Allocations: 8579)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 71.3ms | Allocations: 17314)
Completed 200 OK in 76ms (Views: 70.5ms | ActiveRecord: 2.1ms | Allocations: 18286)


Started GET "/instruments/7" for ::1 at 2023-05-30 18:51:30 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 41.2ms | Allocations: 2553)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 81.8ms | Allocations: 11205)
Completed 200 OK in 94ms (Views: 83.3ms | ActiveRecord: 1.4ms | Allocations: 13336)


Started POST "/line_items?instrument_id=7" for ::1 at 2023-05-30 18:51:31 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"7"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 22], ["instrument_id", 7], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.8ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 7], ["cart_id", 22], ["created_at", "2023-05-30 11:51:31.964848"], ["updated_at", "2023-05-30 11:51:31.964848"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/22
Completed 302 Found in 46ms (ActiveRecord: 7.9ms | Allocations: 10657)


Started GET "/carts/22" for ::1 at 2023-05-30 18:51:31 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"22"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 17.2ms | Allocations: 1408)
  Rendered carts/show.html.erb within layouts/application (Duration: 48.5ms | Allocations: 3040)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 90.2ms | Allocations: 11933)
Completed 200 OK in 120ms (Views: 99.2ms | ActiveRecord: 1.1ms | Allocations: 13647)


Started GET "/" for ::1 at 2023-05-30 18:51:33 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 33.6ms | Allocations: 8146)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 73.4ms | Allocations: 16872)
Completed 200 OK in 78ms (Views: 73.1ms | ActiveRecord: 1.6ms | Allocations: 17811)


Started GET "/instruments/6" for ::1 at 2023-05-30 18:51:36 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.9ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1892)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 54.2ms | Allocations: 10607)
Completed 200 OK in 74ms (Views: 54.9ms | ActiveRecord: 3.3ms | Allocations: 12003)


Started POST "/line_items?instrument_id=6" for ::1 at 2023-05-30 18:51:37 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"6"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 22], ["instrument_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.6ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.9ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 6], ["cart_id", 22], ["created_at", "2023-05-30 11:51:37.094395"], ["updated_at", "2023-05-30 11:51:37.094395"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/22
Completed 302 Found in 30ms (ActiveRecord: 7.4ms | Allocations: 5564)


Started GET "/carts/22" for ::1 at 2023-05-30 18:51:37 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"22"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.5ms | Allocations: 2128)
  Rendered carts/show.html.erb within layouts/application (Duration: 11.9ms | Allocations: 3315)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 59.6ms | Allocations: 12119)
Completed 200 OK in 64ms (Views: 60.1ms | ActiveRecord: 1.3ms | Allocations: 13058)


Started GET "/instruments" for ::1 at 2023-05-30 18:51:39 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 31.9ms | Allocations: 8146)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 70.1ms | Allocations: 16881)
Completed 200 OK in 77ms (Views: 69.4ms | ActiveRecord: 2.5ms | Allocations: 17825)


Started GET "/instruments/1" for ::1 at 2023-05-30 18:51:40 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 8.3ms | Allocations: 1890)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 50.7ms | Allocations: 10616)
Completed 200 OK in 58ms (Views: 50.9ms | ActiveRecord: 1.6ms | Allocations: 11999)


Started POST "/line_items?instrument_id=1" for ::1 at 2023-05-30 18:51:42 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 22], ["instrument_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.8ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 1], ["cart_id", 22], ["created_at", "2023-05-30 11:51:42.042886"], ["updated_at", "2023-05-30 11:51:42.042886"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (3.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/22
Completed 302 Found in 29ms (ActiveRecord: 6.7ms | Allocations: 5512)


Started GET "/carts/22" for ::1 at 2023-05-30 18:51:42 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"22"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 12.7ms | Allocations: 3155)
  Rendered carts/show.html.erb within layouts/application (Duration: 24.0ms | Allocations: 4357)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 65.4ms | Allocations: 13444)
Completed 200 OK in 70ms (Views: 66.1ms | ActiveRecord: 1.5ms | Allocations: 14392)


Started DELETE "/carts/22" for ::1 at 2023-05-30 18:51:46 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"22"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (1.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 13]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 14]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 15]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 22]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (3.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 40ms (ActiveRecord: 6.4ms | Allocations: 6328)


Started GET "/" for ::1 at 2023-05-30 18:51:46 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-30 11:51:46.352774"], ["updated_at", "2023-05-30 11:51:46.352774"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (1.0ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 41.6ms | Allocations: 8145)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 23]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 95.2ms | Allocations: 17473)
Completed 200 OK in 114ms (Views: 94.3ms | ActiveRecord: 7.8ms | Allocations: 20969)


Started GET "/instruments/new" for ::1 at 2023-05-30 18:51:48 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 233.1ms | Allocations: 24673)
  Rendered instruments/new.html.erb within layouts/application (Duration: 248.5ms | Allocations: 24972)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 23]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 290.9ms | Allocations: 33630)
Completed 200 OK in 300ms (Views: 291.7ms | ActiveRecord: 0.7ms | Allocations: 36405)


Started POST "/instruments" for ::1 at 2023-05-30 18:52:05 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"333", "price"=>"2222", "model"=>"2222", "description"=>"222", "brand"=>"Ibanez", "finish"=>"Yellow", "condition"=>"Excellent", "image"=>#<ActionDispatch::Http::UploadedFile:0x000001a63db3b458 @tempfile=#<Tempfile:C:/Users/ASUS/AppData/Local/Temp/RackMultipart20230530-18748-zbpbem.jpg>, @content_type="image/jpeg", @original_filename="z4345246599153_482f1e28b75733c3d0e2809adf02164d.jpg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"z4345246599153_482f1e28b75733c3d0e2809adf02164d.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at C:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at C:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 9.0ms | Allocations: 6698)
  Rendered instruments/new.html.erb within layouts/application (Duration: 9.8ms | Allocations: 6767)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 23]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 49.5ms | Allocations: 15417)
Completed 422 Unprocessable Entity in 136ms (Views: 50.3ms | ActiveRecord: 0.9ms | Allocations: 25833)


Started GET "/users/edit" for ::1 at 2023-05-30 18:52:11 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 10.2ms | Allocations: 4966)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 23]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 54.0ms | Allocations: 13633)
Completed 200 OK in 71ms (Views: 61.1ms | ActiveRecord: 1.1ms | Allocations: 15879)


Started DELETE "/users/sign_out" for ::1 at 2023-05-30 18:52:12 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
Redirected to http://localhost:3000/
Completed 303 See Other in 28ms (ActiveRecord: 0.5ms | Allocations: 3086)


Started GET "/" for ::1 at 2023-05-30 18:52:12 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-30 11:52:12.296666"], ["updated_at", "2023-05-30 11:52:12.296666"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 30.4ms | Allocations: 7571)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 66.5ms | Allocations: 16370)
Completed 200 OK in 82ms (Views: 66.4ms | ActiveRecord: 6.9ms | Allocations: 19671)


Started GET "/instruments/3" for ::1 at 2023-05-30 18:52:12 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  Rendered instruments/show.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1221)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 47.6ms | Allocations: 9794)
Completed 200 OK in 54ms (Views: 48.2ms | ActiveRecord: 1.1ms | Allocations: 11207)


Started GET "/" for ::1 at 2023-05-30 18:52:14 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 31.5ms | Allocations: 7571)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 77.2ms | Allocations: 16154)
Completed 200 OK in 83ms (Views: 77.3ms | ActiveRecord: 1.3ms | Allocations: 17071)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id" FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id" FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT 1 FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT password FROM "users"[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users"."id", password FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id" FROM "users"[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users"."id" FROM "users"[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users"."id", 1 FROM "users"[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "linh@gmail.com"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2023-05-30 19:31:15 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 108.7ms | Allocations: 23109)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 595.6ms | Allocations: 340426)
Completed 200 OK in 709ms (Views: 606.0ms | ActiveRecord: 5.2ms | Allocations: 356127)


Started GET "/users/sign_in" for ::1 at 2023-05-30 19:31:59 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.0ms | Allocations: 721)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 112.2ms | Allocations: 12989)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 144.3ms | Allocations: 21676)
Completed 200 OK in 161ms (Views: 155.5ms | ActiveRecord: 0.4ms | Allocations: 23718)


Started POST "/users/sign_in" for ::1 at 2023-05-30 19:42:54 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"andy@web-crunch.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "andy@web-crunch.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 303 See Other in 354ms (ActiveRecord: 2.6ms | Allocations: 19469)


Started GET "/" for ::1 at 2023-05-30 19:42:54 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 85.9ms | Allocations: 19113)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 538.5ms | Allocations: 336454)
Completed 200 OK in 612ms (Views: 542.7ms | ActiveRecord: 4.4ms | Allocations: 346979)


Started GET "/instruments/new" for ::1 at 2023-05-30 19:43:01 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 97.4ms | Allocations: 16091)
  Rendered instruments/new.html.erb within layouts/application (Duration: 100.9ms | Allocations: 16415)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 140.5ms | Allocations: 25076)
Completed 200 OK in 154ms (Views: 141.7ms | ActiveRecord: 0.8ms | Allocations: 28036)


Started POST "/instruments" for ::1 at 2023-05-30 19:43:13 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"333", "price"=>"123213", "model"=>"123123", "description"=>"12321", "brand"=>"Charvel", "finish"=>"Yellow", "condition"=>"New", "image"=>#<ActionDispatch::Http::UploadedFile:0x0000020df8d5b508 @tempfile=#<Tempfile:C:/Users/ASUS/AppData/Local/Temp/RackMultipart20230530-1952-2ip1wd.jpg>, @content_type="image/jpeg", @original_filename="z4345246575149_bb1b414c374b2f230e21ab92c996297f.jpg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"z4345246575149_bb1b414c374b2f230e21ab92c996297f.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at C:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at C:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 6.2ms | Allocations: 7500)
  Rendered instruments/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 7569)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 46.3ms | Allocations: 16254)
Completed 422 Unprocessable Entity in 143ms (Views: 47.4ms | ActiveRecord: 1.0ms | Allocations: 26887)


Started POST "/instruments" for ::1 at 2023-05-30 19:43:26 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"333", "price"=>"23", "model"=>"123123", "description"=>"12321", "brand"=>"Charvel", "finish"=>"Yellow", "condition"=>"New", "image"=>#<ActionDispatch::Http::UploadedFile:0x0000020df9a3e388 @tempfile=#<Tempfile:C:/Users/ASUS/AppData/Local/Temp/RackMultipart20230530-1952-u8q4s2.jpg>, @content_type="image/jpeg", @original_filename="z4345246580531_a3df5299b6742625332a0bcb4fb6060d.jpg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"z4345246580531_a3df5299b6742625332a0bcb4fb6060d.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at C:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at C:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 5.6ms | Allocations: 6641)
  Rendered instruments/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 6710)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 43.8ms | Allocations: 15362)
Completed 422 Unprocessable Entity in 135ms (Views: 44.8ms | ActiveRecord: 1.4ms | Allocations: 24991)


Started GET "/instruments/new" for ::1 at 2023-05-30 19:43:33 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 7.7ms | Allocations: 6627)
  Rendered instruments/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 6696)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 52.6ms | Allocations: 15350)
Completed 200 OK in 64ms (Views: 53.9ms | ActiveRecord: 0.9ms | Allocations: 17545)


Started GET "/users/edit" for ::1 at 2023-05-30 19:43:34 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 12.7ms | Allocations: 5827)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 59.7ms | Allocations: 14570)
Completed 200 OK in 91ms (Views: 85.2ms | ActiveRecord: 0.8ms | Allocations: 17461)


Started DELETE "/users/sign_out" for ::1 at 2023-05-30 19:43:37 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
Redirected to http://localhost:3000/
Completed 303 See Other in 20ms (ActiveRecord: 0.8ms | Allocations: 2978)


Started GET "/" for ::1 at 2023-05-30 19:43:37 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-30 12:43:37.575805"], ["updated_at", "2023-05-30 12:43:37.575805"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 30.6ms | Allocations: 7586)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 71.3ms | Allocations: 16392)
Completed 200 OK in 89ms (Views: 71.6ms | ActiveRecord: 7.2ms | Allocations: 20597)


Started GET "/users/sign_in" for ::1 at 2023-05-30 19:43:43 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 2.6ms | Allocations: 717)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 19.3ms | Allocations: 5019)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 97.8ms | Allocations: 13698)
Completed 200 OK in 115ms (Views: 106.5ms | ActiveRecord: 0.7ms | Allocations: 15333)


Started POST "/users/sign_in" for ::1 at 2023-05-30 19:43:53 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 229ms (ActiveRecord: 0.7ms | Allocations: 1958)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3445)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 65.9ms | Allocations: 12009)
Completed 200 OK in 291ms (Views: 67.2ms | ActiveRecord: 0.2ms | Allocations: 12988)


Started POST "/users/sign_in" for ::1 at 2023-05-30 19:43:56 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 292ms (ActiveRecord: 0.6ms | Allocations: 1997)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3446)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 46.2ms | Allocations: 12015)
Completed 200 OK in 283ms (Views: 47.8ms | ActiveRecord: 0.2ms | Allocations: 12946)


Started POST "/users/sign_in" for ::1 at 2023-05-30 19:44:00 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "quan@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 229ms (ActiveRecord: 0.7ms | Allocations: 1939)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"quan@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.2ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 3441)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 48.6ms | Allocations: 12010)
Completed 200 OK in 276ms (Views: 50.5ms | ActiveRecord: 0.2ms | Allocations: 12938)


Started POST "/users/sign_in" for ::1 at 2023-05-30 19:44:06 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"andy@web-crunch.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "andy@web-crunch.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 303 See Other in 248ms (ActiveRecord: 0.5ms | Allocations: 2977)


Started GET "/" for ::1 at 2023-05-30 19:44:06 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.8ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 37.4ms | Allocations: 8267)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 76.6ms | Allocations: 16933)
Completed 200 OK in 82ms (Views: 76.6ms | ActiveRecord: 2.4ms | Allocations: 17889)


Started GET "/instruments/1/edit" for ::1 at 2023-05-30 19:44:12 +0700
Processing by InstrumentsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/edit.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 6.7ms | Allocations: 6719)
  Rendered instruments/edit.html.erb within layouts/application (Duration: 20.7ms | Allocations: 6957)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 58.4ms | Allocations: 15635)
Completed 200 OK in 72ms (Views: 59.4ms | ActiveRecord: 1.2ms | Allocations: 18813)


Started PATCH "/instruments/1" for ::1 at 2023-05-30 19:44:18 +0700
Processing by InstrumentsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"123", "price"=>"123.0", "model"=>"123", "description"=>"123", "brand"=>"PRS", "finish"=>"Yellow", "condition"=>"Used", "image"=>#<ActionDispatch::Http::UploadedFile:0x0000020df9eae9e0 @tempfile=#<Tempfile:C:/Users/ASUS/AppData/Local/Temp/RackMultipart20230530-1952-vh49xk.jpg>, @content_type="image/jpeg", @original_filename="z4345246590577_c939a6bd912c3d49316b0fc38ede3214.jpg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"z4345246590577_c939a6bd912c3d49316b0fc38ede3214.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Update Instrument", "id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from block in update at C:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:40)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from block in update at C:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:40)
  Rendering layout layouts/application.html.erb
  Rendering instruments/edit.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 6.5ms | Allocations: 6720)
  Rendered instruments/edit.html.erb within layouts/application (Duration: 7.3ms | Allocations: 6789)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 43.0ms | Allocations: 15478)
Completed 422 Unprocessable Entity in 127ms (Views: 44.1ms | ActiveRecord: 1.4ms | Allocations: 25916)


Started GET "/instruments/1" for ::1 at 2023-05-30 19:45:38 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
Started GET "/instruments/1" for 127.0.0.1 at 2023-05-30 19:45:38 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 77.6ms | Allocations: 15633)
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 36.7ms | Allocations: 11107)
Started GET "/instruments/1" for 127.0.0.1 at 2023-05-30 19:45:39 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 9.0ms | Allocations: 2207)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 689.2ms | Allocations: 605994)
Completed 200 OK in 699ms (Views: 689.4ms | ActiveRecord: 2.5ms | Allocations: 607751)


  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 738.2ms | Allocations: 612707)
Completed 200 OK in 860ms (Views: 753.6ms | ActiveRecord: 5.0ms | Allocations: 634764)


  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 271.9ms | Allocations: 69595)
Completed 200 OK in 280ms (Views: 272.5ms | ActiveRecord: 1.9ms | Allocations: 71451)


Started GET "/instruments/1" for 127.0.0.1 at 2023-05-30 19:45:40 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1934)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 49.2ms | Allocations: 10587)
Completed 200 OK in 56ms (Views: 50.7ms | ActiveRecord: 1.2ms | Allocations: 12009)


Started GET "/instruments/1/edit" for 127.0.0.1 at 2023-05-30 19:45:42 +0700
Processing by InstrumentsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/edit.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 100.8ms | Allocations: 16241)
  Rendered instruments/edit.html.erb within layouts/application (Duration: 104.8ms | Allocations: 16566)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 141.2ms | Allocations: 25228)
Completed 200 OK in 162ms (Views: 142.2ms | ActiveRecord: 1.6ms | Allocations: 28673)


Started PATCH "/instruments/1" for 127.0.0.1 at 2023-05-30 19:45:47 +0700
Processing by InstrumentsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"123", "price"=>"123.0", "model"=>"123", "description"=>"123", "brand"=>"PRS", "finish"=>"Yellow", "condition"=>"Used", "image"=>#<ActionDispatch::Http::UploadedFile:0x0000027faee25dd0 @tempfile=#<Tempfile:C:/Users/ASUS/AppData/Local/Temp/RackMultipart20230530-272-yutsbj.jpg>, @content_type="image/jpeg", @original_filename="z4345246580531_a3df5299b6742625332a0bcb4fb6060d.jpg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"z4345246580531_a3df5299b6742625332a0bcb4fb6060d.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Update Instrument", "id"=>"1"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.6ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from block in update at C:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:40)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from block in update at C:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:40)
  Rendering layout layouts/application.html.erb
  Rendering instruments/edit.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 5.8ms | Allocations: 6769)
  Rendered instruments/edit.html.erb within layouts/application (Duration: 6.4ms | Allocations: 6838)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 46.2ms | Allocations: 15498)
Completed 422 Unprocessable Entity in 139ms (Views: 47.2ms | ActiveRecord: 1.3ms | Allocations: 27020)


Started GET "/instruments/new" for 127.0.0.1 at 2023-05-30 19:45:53 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 8.2ms | Allocations: 6678)
  Rendered instruments/new.html.erb within layouts/application (Duration: 9.9ms | Allocations: 6917)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 45.1ms | Allocations: 15667)
Completed 200 OK in 66ms (Views: 46.2ms | ActiveRecord: 1.7ms | Allocations: 18540)


Started GET "/instruments/new" for 127.0.0.1 at 2023-05-30 19:45:54 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 7.9ms | Allocations: 6628)
  Rendered instruments/new.html.erb within layouts/application (Duration: 8.5ms | Allocations: 6697)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 46.8ms | Allocations: 15351)
Completed 200 OK in 55ms (Views: 47.7ms | ActiveRecord: 1.0ms | Allocations: 17549)


Started GET "/" for 127.0.0.1 at 2023-05-30 19:45:55 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 33.7ms | Allocations: 8723)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 70.0ms | Allocations: 17384)
Completed 200 OK in 76ms (Views: 69.6ms | ActiveRecord: 1.8ms | Allocations: 18429)


  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Pluck (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
Started GET "/" for ::1 at 2023-05-30 20:06:25 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 82.2ms | Allocations: 23954)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 513.0ms | Allocations: 341339)
Completed 200 OK in 606ms (Views: 522.1ms | ActiveRecord: 5.5ms | Allocations: 356367)


Started DELETE "/instruments/1" for ::1 at 2023-05-30 20:06:58 +0700
Processing by InstrumentsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"1"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.1ms | Allocations: 4764)


  
NoMethodError (undefined method `not_referenced_by_any_line_item' for #<Instrument id: 1, brand: "PRS", model: "123", description: "123", condition: "Used", finish: "Yellow", title: "123", price: 0.123e3, created_at: "2023-05-01 04:34:55.013752000 +0000", updated_at: "2023-05-01 04:34:55.013752000 +0000", image: "instrument1.jpg", user_id: 1>):
  
app/controllers/instruments_controller.rb:52:in `destroy'
Started DELETE "/users/sign_out" for ::1 at 2023-05-30 20:07:20 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
Redirected to http://localhost:3000/
Completed 303 See Other in 15ms (ActiveRecord: 0.5ms | Allocations: 3370)


Started GET "/" for ::1 at 2023-05-30 20:07:20 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-05-30 13:07:20.538819"], ["updated_at", "2023-05-30 13:07:20.538819"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (3.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 31.8ms | Allocations: 7654)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 76.7ms | Allocations: 16501)
Completed 200 OK in 92ms (Views: 76.7ms | ActiveRecord: 6.2ms | Allocations: 20678)


Started GET "/" for ::1 at 2023-06-08 11:41:53 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.7ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 270.8ms | Allocations: 23113)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 1837.8ms | Allocations: 340417)
Completed 200 OK in 2295ms (Views: 1885.5ms | ActiveRecord: 5.2ms | Allocations: 355441)


Started GET "/users/sign_in" for ::1 at 2023-06-08 11:42:11 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 48.5ms | Allocations: 724)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 743.1ms | Allocations: 12991)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 791.6ms | Allocations: 21678)
Completed 200 OK in 828ms (Views: 805.2ms | ActiveRecord: 0.5ms | Allocations: 23702)


Started POST "/users/sign_in" for ::1 at 2023-06-08 11:42:20 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"linh@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "linh@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 303 See Other in 363ms (ActiveRecord: 0.9ms | Allocations: 4805)


Started GET "/" for ::1 at 2023-06-08 11:42:20 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 67.6ms | Allocations: 8202)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 105.2ms | Allocations: 17055)
Completed 200 OK in 111ms (Views: 105.5ms | ActiveRecord: 1.9ms | Allocations: 18004)


Started GET "/instruments/1" for ::1 at 2023-06-08 11:42:29 +0700
Processing by InstrumentsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/instruments_controller.rb:63:in `set_instrument'
  Rendering layout layouts/application.html.erb
  Rendering instruments/show.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/show.html.erb:64
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  Rendered instruments/show.html.erb within layouts/application (Duration: 37.7ms | Allocations: 2552)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 78.5ms | Allocations: 11203)
Completed 200 OK in 91ms (Views: 79.5ms | ActiveRecord: 1.3ms | Allocations: 13334)


Started POST "/line_items?instrument_id=1" for ::1 at 2023-06-08 11:42:32 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument_id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mInstrument Load (0.2ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."instrument_id" = ? LIMIT ?[0m  [["cart_id", 26], ["instrument_id", 1], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_instrument'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mLineItem Create (1.8ms)[0m  [1m[32mINSERT INTO "line_items" ("instrument_id", "cart_id", "created_at", "updated_at", "quantity") VALUES (?, ?, ?, ?, ?)[0m  [["instrument_id", 1], ["cart_id", 26], ["created_at", "2023-06-08 04:42:32.146080"], ["updated_at", "2023-06-08 04:42:32.146080"], ["quantity", 1]]
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:33:in `block in create'
Redirected to http://localhost:3000/carts/26
Completed 302 Found in 45ms (ActiveRecord: 7.8ms | Allocations: 12064)


Started GET "/carts/26" for ::1 at 2023-06-08 11:42:32 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"26"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" WHERE "instruments"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 14.5ms | Allocations: 1728)
  Rendered carts/show.html.erb within layouts/application (Duration: 43.0ms | Allocations: 3360)
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:52
  Rendered layout layouts/application.html.erb (Duration: 84.1ms | Allocations: 12245)
Completed 200 OK in 97ms (Views: 90.8ms | ActiveRecord: 1.0ms | Allocations: 13681)


Started DELETE "/carts/26" for ::1 at 2023-06-08 11:42:41 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "id"=>"26"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:65:in `set_cart'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mLineItem Destroy (2.0ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 16]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 26]]
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
  [1m[36mTRANSACTION (4.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:53:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 37ms (ActiveRecord: 7.0ms | Allocations: 4841)


Started GET "/" for ::1 at 2023-06-08 11:42:41 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-06-08 04:42:41.805618"], ["updated_at", "2023-06-08 04:42:41.805618"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (4.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.8ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 47.4ms | Allocations: 8604)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 27]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 98.2ms | Allocations: 17625)
Completed 200 OK in 120ms (Views: 98.0ms | ActiveRecord: 7.2ms | Allocations: 21126)


Started GET "/users/edit" for ::1 at 2023-06-08 11:42:45 +0700
Processing by RegistrationsController#edit as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 62.8ms | Allocations: 5538)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 27]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 97.8ms | Allocations: 14282)
Completed 200 OK in 123ms (Views: 116.0ms | ActiveRecord: 0.8ms | Allocations: 17104)


Started PUT "/users" for ::1 at 2023-06-08 11:43:07 +0700
Processing by RegistrationsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"linh", "email"=>"linh@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Update"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 8.6ms | Allocations: 6013)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 27]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 56.0ms | Allocations: 14700)
Completed 422 Unprocessable Entity in 514ms (Views: 56.9ms | ActiveRecord: 1.7ms | Allocations: 19809)


Started PUT "/users" for ::1 at 2023-06-08 11:43:11 +0700
Processing by RegistrationsController#update as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"name"=>"linh", "email"=>"linh@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Update"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 6.5ms | Allocations: 5174)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 27]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 54.7ms | Allocations: 13868)
Completed 422 Unprocessable Entity in 308ms (Views: 56.4ms | ActiveRecord: 1.4ms | Allocations: 17662)


Started DELETE "/users/sign_out" for ::1 at 2023-06-08 11:43:16 +0700
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
Redirected to http://localhost:3000/
Completed 303 See Other in 194ms (ActiveRecord: 0.6ms | Allocations: 14748)


Started GET "/" for ::1 at 2023-06-08 11:43:16 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-06-08 04:43:16.964829"], ["updated_at", "2023-06-08 04:43:16.964829"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (3.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 31.9ms | Allocations: 7572)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 72.8ms | Allocations: 16365)
Completed 200 OK in 91ms (Views: 73.2ms | ActiveRecord: 7.0ms | Allocations: 19681)


Started GET "/users/sign_in" for ::1 at 2023-06-08 11:43:18 +0700
Processing by Devise::SessionsController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 3444)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 42.7ms | Allocations: 12044)
Completed 200 OK in 48ms (Views: 43.7ms | ActiveRecord: 0.5ms | Allocations: 13128)


Started POST "/users/sign_in" for ::1 at 2023-06-08 11:43:24 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"linh@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "linh@gmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 239ms (ActiveRecord: 1.6ms | Allocations: 1948)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"linh@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCACHE Cart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.4ms | Allocations: 131)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 6.7ms | Allocations: 3447)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 49.9ms | Allocations: 12171)
Completed 200 OK in 279ms (Views: 51.2ms | ActiveRecord: 0.3ms | Allocations: 13119)


Started POST "/users/sign_in" for ::1 at 2023-06-08 11:43:29 +0700
Processing by Devise::SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"linh@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."email" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["email", "linh@gmail.com"], ["LIMIT", 1]]
Redirected to http://localhost:3000/
Completed 303 See Other in 225ms (ActiveRecord: 0.6ms | Allocations: 2741)


Started GET "/" for ::1 at 2023-06-08 11:43:29 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.6ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 37.9ms | Allocations: 8145)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 78.5ms | Allocations: 16850)
Completed 200 OK in 84ms (Views: 78.3ms | ActiveRecord: 2.5ms | Allocations: 17796)


Started GET "/instruments/new" for ::1 at 2023-06-08 11:43:32 +0700
Processing by InstrumentsController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 92.2ms | Allocations: 8445)
  Rendered instruments/new.html.erb within layouts/application (Duration: 108.0ms | Allocations: 8744)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 147.5ms | Allocations: 17398)
Completed 200 OK in 157ms (Views: 148.5ms | ActiveRecord: 1.0ms | Allocations: 20169)


Started POST "/instruments" for ::1 at 2023-06-08 11:44:26 +0700
Processing by InstrumentsController#create as HTML
  Parameters: {"authenticity_token"=>"[FILTERED]", "instrument"=>{"title"=>"222", "price"=>"3", "model"=>"lll", "description"=>"gggfvyjg", "brand"=>"Epiphone", "finish"=>"White", "condition"=>"Excellent", "image"=>#<ActionDispatch::Http::UploadedFile:0x000001f8db465570 @tempfile=#<Tempfile:C:/Users/ASUS/AppData/Local/Temp/RackMultipart20230608-7496-fab2dq.jpg>, @content_type="image/jpeg", @original_filename="z4345246575028_d94130bae254ca9aeff2cdb13fe9aa2d.jpg", @headers="Content-Disposition: form-data; name=\"instrument[image]\"; filename=\"z4345246575028_d94130bae254ca9aeff2cdb13fe9aa2d.jpg\"\r\nContent-Type: image/jpeg\r\n">}, "commit"=>"Create Instrument"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at C:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
DEPRECATION WARNING: #extension_whitelist is deprecated, use #extension_allowlist instead. (called from create at C:/Ruby32-x64/flanger/app/controllers/instruments_controller.rb:24)
  Rendering layout layouts/application.html.erb
  Rendering instruments/new.html.erb within layouts/application
  Rendered instruments/_form.html.erb (Duration: 8.8ms | Allocations: 6678)
  Rendered instruments/new.html.erb within layouts/application (Duration: 9.6ms | Allocations: 6747)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 53.2ms | Allocations: 15553)
Completed 422 Unprocessable Entity in 148ms (Views: 54.0ms | ActiveRecord: 0.8ms | Allocations: 25942)


Started GET "/" for ::1 at 2023-06-08 11:44:35 +0700
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? ORDER BY "users"."id" ASC LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/helpers/instruments_helper.rb:3:in `instrument_author'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 37.3ms | Allocations: 8145)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 76.2ms | Allocations: 16804)
Completed 200 OK in 82ms (Views: 75.9ms | ActiveRecord: 2.5ms | Allocations: 17754)


Started GET "/" for ::1 at 2023-06-08 11:46:44 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-06-08 04:46:44.172818"], ["updated_at", "2023-06-08 04:46:44.172818"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.4ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 82.3ms | Allocations: 24586)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 510.4ms | Allocations: 341901)
Completed 200 OK in 615ms (Views: 519.4ms | ActiveRecord: 9.8ms | Allocations: 359024)


Started GET "/" for ::1 at 2023-06-08 13:16:38 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/models/concerns/current_cart.rb:6:in `set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.5ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 316.8ms | Allocations: 23108)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 2125.6ms | Allocations: 340417)
Completed 200 OK in 2686ms (Views: 2176.8ms | ActiveRecord: 4.9ms | Allocations: 355431)


Started GET "/" for ::1 at 2023-06-08 13:50:50 +0700
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by InstrumentsController#index as HTML
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mCart Create (1.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2023-06-08 06:50:51.117243"], ["updated_at", "2023-06-08 06:50:51.117243"]]
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  [1m[36mTRANSACTION (3.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/concerns/current_cart.rb:8:in `rescue in set_cart'
  Rendering layout layouts/application.html.erb
  Rendering instruments/index.html.erb within layouts/application
  [1m[36mInstrument Load (0.3ms)[0m  [1m[34mSELECT "instruments".* FROM "instruments" ORDER BY created_at desc[0m
  ↳ app/views/instruments/index.html.erb:14
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/views/instruments/index.html.erb:32
  Rendered instruments/index.html.erb within layouts/application (Duration: 258.3ms | Allocations: 24258)
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  ↳ app/helpers/application_helper.rb:7:in `map'
  Rendered layout layouts/application.html.erb (Duration: 1837.9ms | Allocations: 341576)
Completed 200 OK in 2309ms (Views: 1886.1ms | ActiveRecord: 10.1ms | Allocations: 359024)


